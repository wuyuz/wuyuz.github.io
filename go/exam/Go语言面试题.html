<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Go语言面试题 | 独角兕大王</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.ccac5a78.css" as="style"><link rel="preload" href="/assets/js/app.51f2f156.js" as="script"><link rel="preload" href="/assets/js/2.8911ec45.js" as="script"><link rel="preload" href="/assets/js/10.6948c28b.js" as="script"><link rel="prefetch" href="/assets/js/100.276864ee.js"><link rel="prefetch" href="/assets/js/101.447ab1c7.js"><link rel="prefetch" href="/assets/js/102.f5b3c71d.js"><link rel="prefetch" href="/assets/js/103.16474d4b.js"><link rel="prefetch" href="/assets/js/104.ed58aef3.js"><link rel="prefetch" href="/assets/js/105.045203cd.js"><link rel="prefetch" href="/assets/js/106.be359e0b.js"><link rel="prefetch" href="/assets/js/107.7331bbca.js"><link rel="prefetch" href="/assets/js/108.76e1c800.js"><link rel="prefetch" href="/assets/js/109.e82166f3.js"><link rel="prefetch" href="/assets/js/11.d4ec37c8.js"><link rel="prefetch" href="/assets/js/110.4144755a.js"><link rel="prefetch" href="/assets/js/111.5864ab53.js"><link rel="prefetch" href="/assets/js/112.ca2aee84.js"><link rel="prefetch" href="/assets/js/113.641e7765.js"><link rel="prefetch" href="/assets/js/114.d69f8545.js"><link rel="prefetch" href="/assets/js/115.1b6a9f89.js"><link rel="prefetch" href="/assets/js/116.dde2c44e.js"><link rel="prefetch" href="/assets/js/117.4e79498c.js"><link rel="prefetch" href="/assets/js/12.7aac9c8d.js"><link rel="prefetch" href="/assets/js/13.abf127cd.js"><link rel="prefetch" href="/assets/js/14.aa4413a7.js"><link rel="prefetch" href="/assets/js/15.11a64e5b.js"><link rel="prefetch" href="/assets/js/16.f2d9a882.js"><link rel="prefetch" href="/assets/js/17.11c5bb7f.js"><link rel="prefetch" href="/assets/js/18.a522877b.js"><link rel="prefetch" href="/assets/js/19.6f31a972.js"><link rel="prefetch" href="/assets/js/20.b546c54e.js"><link rel="prefetch" href="/assets/js/21.6d055b7f.js"><link rel="prefetch" href="/assets/js/22.c48feceb.js"><link rel="prefetch" href="/assets/js/23.69941f78.js"><link rel="prefetch" href="/assets/js/24.6126dfc2.js"><link rel="prefetch" href="/assets/js/25.3475449c.js"><link rel="prefetch" href="/assets/js/26.96bb4643.js"><link rel="prefetch" href="/assets/js/27.da610e5d.js"><link rel="prefetch" href="/assets/js/28.b24ec15c.js"><link rel="prefetch" href="/assets/js/29.ec8af553.js"><link rel="prefetch" href="/assets/js/3.bec5f768.js"><link rel="prefetch" href="/assets/js/30.2e780db1.js"><link rel="prefetch" href="/assets/js/31.464c36ed.js"><link rel="prefetch" href="/assets/js/32.ad7d37c2.js"><link rel="prefetch" href="/assets/js/33.722f1ec5.js"><link rel="prefetch" href="/assets/js/34.8448d0fd.js"><link rel="prefetch" href="/assets/js/35.e5168ac9.js"><link rel="prefetch" href="/assets/js/36.edc404f1.js"><link rel="prefetch" href="/assets/js/37.5807602e.js"><link rel="prefetch" href="/assets/js/38.a519c89a.js"><link rel="prefetch" href="/assets/js/39.89af1b9a.js"><link rel="prefetch" href="/assets/js/4.5ed19beb.js"><link rel="prefetch" href="/assets/js/40.6c653db9.js"><link rel="prefetch" href="/assets/js/41.bc3b8b69.js"><link rel="prefetch" href="/assets/js/42.a0a02d9b.js"><link rel="prefetch" href="/assets/js/43.62f344e3.js"><link rel="prefetch" href="/assets/js/44.a7fd9d68.js"><link rel="prefetch" href="/assets/js/45.729c1c39.js"><link rel="prefetch" href="/assets/js/46.5b924aea.js"><link rel="prefetch" href="/assets/js/47.f3990404.js"><link rel="prefetch" href="/assets/js/48.f591f360.js"><link rel="prefetch" href="/assets/js/49.f7f213ad.js"><link rel="prefetch" href="/assets/js/5.2c5d28b5.js"><link rel="prefetch" href="/assets/js/50.b9ca2762.js"><link rel="prefetch" href="/assets/js/51.93672ee6.js"><link rel="prefetch" href="/assets/js/52.fb21314a.js"><link rel="prefetch" href="/assets/js/53.65343ccc.js"><link rel="prefetch" href="/assets/js/54.8081227d.js"><link rel="prefetch" href="/assets/js/55.e207659e.js"><link rel="prefetch" href="/assets/js/56.bde381df.js"><link rel="prefetch" href="/assets/js/57.f8eceb45.js"><link rel="prefetch" href="/assets/js/58.bef70bfd.js"><link rel="prefetch" href="/assets/js/59.7ab7562d.js"><link rel="prefetch" href="/assets/js/6.fc65a1ac.js"><link rel="prefetch" href="/assets/js/60.f40ac3ca.js"><link rel="prefetch" href="/assets/js/61.d2b463ab.js"><link rel="prefetch" href="/assets/js/62.cfdf1bcf.js"><link rel="prefetch" href="/assets/js/63.1e45ce59.js"><link rel="prefetch" href="/assets/js/64.a98fe86e.js"><link rel="prefetch" href="/assets/js/65.0234d7c5.js"><link rel="prefetch" href="/assets/js/66.724906f0.js"><link rel="prefetch" href="/assets/js/67.7806fda6.js"><link rel="prefetch" href="/assets/js/68.9f227dae.js"><link rel="prefetch" href="/assets/js/69.fdbc56ac.js"><link rel="prefetch" href="/assets/js/7.284de54e.js"><link rel="prefetch" href="/assets/js/70.04a9cc03.js"><link rel="prefetch" href="/assets/js/71.a6fa1dd9.js"><link rel="prefetch" href="/assets/js/72.2f8e3aa0.js"><link rel="prefetch" href="/assets/js/73.9bbb0cb6.js"><link rel="prefetch" href="/assets/js/74.9f122255.js"><link rel="prefetch" href="/assets/js/75.75e1fbd8.js"><link rel="prefetch" href="/assets/js/76.60ff3c3e.js"><link rel="prefetch" href="/assets/js/77.39a253ae.js"><link rel="prefetch" href="/assets/js/78.0e49712f.js"><link rel="prefetch" href="/assets/js/79.5f9c24a0.js"><link rel="prefetch" href="/assets/js/8.5c21a4cc.js"><link rel="prefetch" href="/assets/js/80.f826f188.js"><link rel="prefetch" href="/assets/js/81.b8995ea7.js"><link rel="prefetch" href="/assets/js/82.e9bf63e0.js"><link rel="prefetch" href="/assets/js/83.e3a00749.js"><link rel="prefetch" href="/assets/js/84.b940927c.js"><link rel="prefetch" href="/assets/js/85.ad46a9b2.js"><link rel="prefetch" href="/assets/js/86.190e0071.js"><link rel="prefetch" href="/assets/js/87.5f9eb9ef.js"><link rel="prefetch" href="/assets/js/88.cfaf7469.js"><link rel="prefetch" href="/assets/js/89.e64cc32c.js"><link rel="prefetch" href="/assets/js/9.0723805d.js"><link rel="prefetch" href="/assets/js/90.805edabe.js"><link rel="prefetch" href="/assets/js/91.6a1ab3f7.js"><link rel="prefetch" href="/assets/js/92.04ecd01e.js"><link rel="prefetch" href="/assets/js/93.e615470a.js"><link rel="prefetch" href="/assets/js/94.0ad7c41c.js"><link rel="prefetch" href="/assets/js/95.0e5ce618.js"><link rel="prefetch" href="/assets/js/96.b59cf9f4.js"><link rel="prefetch" href="/assets/js/97.2a327746.js"><link rel="prefetch" href="/assets/js/98.9c01ec88.js"><link rel="prefetch" href="/assets/js/99.952046bd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ccac5a78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://github.com/fluidicon.png" alt="独角兕大王" class="logo"> <span class="site-name can-hide">独角兕大王</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/python/" class="nav-link">
  Python
</a></div><div class="nav-item"><a href="/rust/" class="nav-link">
  Rust
</a></div><div class="nav-item"><a href="/go/" class="nav-link router-link-active">
  Go
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/lua/" class="nav-link">
  Lua
</a></div><div class="nav-item"><a href="/C/" class="nav-link">
  C++
</a></div><div class="nav-item"><a href="https://github.com/wuyuz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.cnblogs.com/double-W/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cnblogs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/python/" class="nav-link">
  Python
</a></div><div class="nav-item"><a href="/rust/" class="nav-link">
  Rust
</a></div><div class="nav-item"><a href="/go/" class="nav-link router-link-active">
  Go
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/lua/" class="nav-link">
  Lua
</a></div><div class="nav-item"><a href="/C/" class="nav-link">
  C++
</a></div><div class="nav-item"><a href="https://github.com/wuyuz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.cnblogs.com/double-W/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cnblogs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Go常用模块</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/go/pkg/time包.html" class="sidebar-link">time包</a></li><li><a href="/go/pkg/fmt包.html" class="sidebar-link">fmt&amp;bufio包</a></li><li><a href="/go/pkg/flag包.html" class="sidebar-link">flag包</a></li><li><a href="/go/pkg/文本读写.html" class="sidebar-link">文本读写</a></li><li><a href="/go/pkg/strconv包.html" class="sidebar-link">strconv包</a></li><li><a href="/go/pkg/net包.html" class="sidebar-link">net包</a></li><li><a href="/go/pkg/context包.html" class="sidebar-link">context包</a></li><li><a href="/go/pkg/sync包.html" class="sidebar-link">sync包</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Go基础知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Go应用实例</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Go设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Go源码解析</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Go微服务网关</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="go语言面试题"><a href="#go语言面试题" class="header-anchor">#</a> Go语言面试题</h2> <h2 id="概念题"><a href="#概念题" class="header-anchor">#</a> 概念题</h2> <ol><li><p>make和new的区别</p> <div class="language- extra-class"><pre class="language-text"><code>make：用于map、slice 和channel几种类型的内存分配。并且返回一个有初始值的对象，注意不是指针。
注：channel在make之后打印出来的也是内存地址，是个特殊类型。

new：用于使用type声明的类型的内存分配。new(T)分配了零值填充的T类型的内存空间，并且返回其地址，即一个T类型的值。用Go的术语说，它返回了一个指针，指向新分配的类型T的零值。有一点非常重要：new返回指针。
</code></pre></div></li> <li><p>简述go中的main和init函数的区别</p> <div class="language- extra-class"><pre class="language-text"><code>1、这两个函数应用位置不同，init函数可以应用于所有的package，main只能应用于 package main；
2、package中可以写任意多个init,但是无论是从可读性还是可维护性来说，都是不推荐的
3、这两个函数定义时都不能有任何的参数和返回值
4、init函数为初始化操作，main函数为程序入口
</code></pre></div></li> <li><p>下面的代码输出什么，若会报错报什么错</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">/*
		先defer的后执行
		recover后输出panic中的信息
	*/</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span> err<span class="token operator">:=</span><span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>err<span class="token operator">!=</span><span class="token boolean">nil</span><span class="token punctuation">{</span>
			fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">&quot;1111111111111&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// 注意这里的panic，会在defer后执行</span>
	<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">&quot;22222222222&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不会报错，而是被recover捕捉，打印出1111111111111</span>
</code></pre></div></li> <li><p>这段代码会输出什么</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 同步通道</span>
<span class="token keyword">var</span> c1 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> c2 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;11111&quot;</span><span class="token punctuation">)</span>
		c1 <span class="token operator">&lt;-</span><span class="token operator">&lt;-</span> c2
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		c1 <span class="token operator">&lt;-</span><span class="token operator">&lt;-</span> c2
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;2222&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token operator">&lt;-</span>c1
	<span class="token comment">// 打印11111，然后报错死锁</span>
<span class="token punctuation">}</span>

<span class="token comment">//说明：两个协程都是读取c2中的元素，然后塞入c1, 然而c2又是无缓冲且没有任何协程在往c2中写数据，所以第一个协程读c2的时候就导致死锁，因为c2永远读不出数据。 如何改能让程序不报错？在第一个协程前加一个协程</span>

<span class="token comment">// 同步通道</span>
<span class="token keyword">var</span> c1 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> c2 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;11111&quot;</span><span class="token punctuation">)</span>
		c1 <span class="token operator">&lt;-</span><span class="token operator">&lt;-</span> c2
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		c1 <span class="token operator">&lt;-</span><span class="token operator">&lt;-</span> c2
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;2222&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		c2<span class="token operator">&lt;-</span><span class="token number">1</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token operator">&lt;-</span>c1
	<span class="token comment">// 打印11111，然后报错死锁</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>简述channel和mutex锁机制的原理异同与使用场景</p> <p>channel原理： 当channel能存放的元素数量为0时表示为阻塞型channel。当管道无数据时，需要从管道取数据的协程会被阻塞，不会向下执行。 所以可以通过多个协程应用同一个channel，从而实现协程间的同步。</p> <p>channel使用场景： 1. 需要协程通信时   2. 需要管道传输数据时。</p> <p>Mutex原理： 互斥锁用来防止资源竞争，多个协程使用同一把排它锁时，原来是并发运行的话将变为线性运行，排它锁针对任意操作都是排它的，没有读写区分。 若一个goroutine获得锁，则其他goroutine会一直阻塞到他释放锁后才能获得锁。</p> <p>mutex使用场景： 解决协程并发时对同一资源的竞争问题。</p></li> <li><p>sync.WaitGroup的使用场景</p> <p>程序中需要并发，需要创建多个goroutine，并且一定要等这些并发全部完成后才继续接下来的程序执行．WaitGroup的特点是Wait()可以用来阻塞直到队列中的所有任务都完成时才解除阻塞，而不需要sleep一个固定的时间来等待．但是其缺点是无法指定固定的goroutine数目（也就是协程池功能）</p></li> <li><p>写一段闭包代码，阐述作用</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">Wrapper</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token keyword">func</span><span class="token punctuation">(</span>y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>y<span class="token operator">+</span>x<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	ret <span class="token operator">:=</span> <span class="token function">Wrapper</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	<span class="token function">ret</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 复杂点的</span>
<span class="token keyword">type</span> logClosure <span class="token keyword">func</span><span class="token punctuation">(</span>format <span class="token builtin">string</span><span class="token punctuation">,</span> v<span class="token operator">...</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
 
<span class="token keyword">func</span> <span class="token function">LoggerWrapper</span><span class="token punctuation">(</span>logType <span class="token builtin">string</span><span class="token punctuation">)</span>logClosure<span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>format <span class="token builtin">string</span><span class="token punctuation">,</span> v<span class="token operator">...</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span>fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;[%s] %s&quot;</span><span class="token punctuation">,</span> logType<span class="token punctuation">,</span> format<span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token operator">...</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 换行</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	info_logger <span class="token operator">:=</span> <span class="token function">LoggerWrapper</span><span class="token punctuation">(</span><span class="token string">&quot;INFO&quot;</span><span class="token punctuation">)</span>
	warning_logger <span class="token operator">:=</span> <span class="token function">LoggerWrapper</span><span class="token punctuation">(</span><span class="token string">&quot;WARNING&quot;</span><span class="token punctuation">)</span>
	<span class="token function">info_logger</span><span class="token punctuation">(</span><span class="token string">&quot;this is a %s log&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;info&quot;</span><span class="token punctuation">)</span>
	<span class="token function">warning_logger</span><span class="token punctuation">(</span><span class="token string">&quot;this is a %s log&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;warning&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>闭包作用</strong>：给访问外部函数定义的内部变量创造了条件，将关于的函数的一切封闭到了函数内部，减少了全局变量。</p> <p>**使用场景：**每次调用函数A时都要改变全局变量B，且B只与A相关，以往没有闭包时只能将B定义为全局变量；而现在可以将B定义为A的内部变量，将真正的执行函数作为闭包放在A内部去执行。</p></li> <li><p>执行下面的代码会发生什么</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> ConfigOne <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Daemon <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>ConfigOne<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;print: %v&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c <span class="token operator">:=</span> <span class="token operator">&amp;</span>ConfigOne<span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 如果类型实现 String()，％v 和％+v 、%s格式将使用 String() 的值, 这里会造成死递归</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>单例实现</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> once sync<span class="token punctuation">.</span>Once
 
<span class="token keyword">type</span> manager <span class="token keyword">struct</span> <span class="token punctuation">{</span>name <span class="token builtin">string</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> single <span class="token operator">*</span>manager
 
<span class="token keyword">func</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>manager<span class="token punctuation">{</span>
	once<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		single <span class="token operator">=</span> <span class="token operator">&amp;</span>manager<span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> single
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>下面代码输出什么</p> <div class="language-go extra-class"><pre class="language-go"><code>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token string">&quot;你好bj!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//答案：是9， len方法返回字符串的字节长度。</span>
</code></pre></div></li> <li><p>下面这段代码可以编译过吗，如果出错是在哪一行？</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> Test <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Name <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> list <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>Test

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	list <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>Test<span class="token punctuation">)</span>
	name <span class="token operator">:=</span> Test<span class="token punctuation">{</span><span class="token string">&quot;xiaoming&quot;</span><span class="token punctuation">}</span>
	list<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> name

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Name<span class="token punctuation">)</span>
	list<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Name <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span>  <span class="token comment">// cannot assign to struct field list[&quot;name&quot;].Name in map</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 因为map的value不是指针。首先，map本来存储的就是value的“初始指针值”，可以打印list[&quot;name&quot;].Name,  但不能通过取值的方式来修改。 因为当map扩容时，内部元素会在内存中移动， 移动之后list[&quot;name&quot;].Name获取到的值依然有效，但获取到的指针是无效的，如果允许这样赋值，那之后再打印list[&quot;name&quot;].Name 是获取不到修改后的值的。 而当value是指针时，也就是说list[&quot;name&quot;]是指针，list[&quot;name&quot;].Name就是指针内部的指针，值改变后，list[&quot;name&quot;]仍然获取到的是原始数据指针，也就仍然可以获取到list[&quot;name&quot;].Name。</span>
</code></pre></div></li> <li><p>ABCD哪一行报错</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> S <span class="token keyword">struct</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">func</span> <span class="token function">f</span><span class="token punctuation">(</span>x <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">func</span> <span class="token function">g</span><span class="token punctuation">(</span>x <span class="token operator">*</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	s <span class="token operator">:=</span> S<span class="token punctuation">{</span><span class="token punctuation">}</span>
	p <span class="token operator">:=</span> <span class="token operator">&amp;</span>s
	<span class="token function">f</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">//A</span>
	<span class="token function">g</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">//B</span>
	<span class="token function">f</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token comment">//C</span>
	<span class="token function">g</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token comment">//D</span>
<span class="token punctuation">}</span>

<span class="token comment">// B和D行。interface可以接受任意类型参数，包括指针。但是*interface{} 就只能接受*interface{}</span>
</code></pre></div></li> <li><p>下面的代码会怎样输出，每次输出结果一样吗</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">const</span> N <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">var</span> wg <span class="token operator">=</span> <span class="token operator">&amp;</span>sync<span class="token punctuation">.</span>WaitGroup<span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
			<span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//大部分时候可以输出0~9，但是顺序都不一样，有时只能输出部分数字。 因为wg.Add被包含在协程中，到达wg.Wait时，已经执行到wg.Add(1)的协程数量是无法确定的，这中间没有耗时也没有等待的操作。 虽然不会报错，但waitgroup不应该被这样使用！Wg.Add语句应该在协程之外。</span>
</code></pre></div></li></ol> <h2 id="选择题"><a href="#选择题" class="header-anchor">#</a> 选择题</h2> <ol><li><p>【初级】下面属于关键字的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. func
B. def
C. struct
D. class
参考答案：AC
</code></pre></div></li> <li><p>【初级】定义一个包内全局字符串变量，下面语法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. var str string
B. str := &quot;&quot;
C. str = &quot;&quot;
D. var str = &quot;&quot;

参考答案：AD
</code></pre></div></li> <li><p>【初级】通过指针变量 p 访问其成员变量 name，下面语法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. p.name
B. (*p).name
C. (&amp;p).name
D. p-&gt;name

参考答案：AB
</code></pre></div></li> <li><p>【初级】关于接口和类的说法，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 一个类只需要实现了接口要求的所有函数，我们就说这个类实现了该接口
B. 实现类的时候，只需要关心自己应该提供哪些方法，不用再纠结接口需要拆得多细才合理
C. 类实现接口时，需要导入接口所在的包
D. 接口由使用方按自身需求来定义，使用方无需关心是否有其他模块定义过类似的接口

参考答案：ABD
</code></pre></div></li> <li><p>【初级】关于字符串连接，下面语法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. str := ‘abc’ + ‘123’
B. str := &quot;abc&quot; + &quot;123&quot;
C. str ：= '123' + &quot;abc&quot;
D. fmt.Sprintf(&quot;abc%d&quot;, 123)

参考答案：BD
</code></pre></div></li> <li><p>【初级】关于协程，下面说法正确是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 协程和线程都可以实现程序的并发执行
B. 线程比协程更轻量级
C. 协程不存在死锁问题
D. 通过channel来进行协程间的通信

参考答案：AD
</code></pre></div></li> <li><p>【中级】关于init函数，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 一个包中，可以包含多个init函数
B. 程序编译时，先执行导入包的init函数，再执行本包内的init函数
C. main包中，不能有init函数
D. init函数可以被其他函数调用

参考答案：AB
</code></pre></div></li> <li><p>【初级】关于循环语句，下面说法正确的有（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 循环语句既支持for关键字，也支持while和do-while
B. 关键字for的基本使用方法与C/C++中没有任何差异
C. for循环支持continue和break来控制循环，但是它提供了一个更高级的break，可以选择中断哪一个循环
D. for循环不支持以逗号为间隔的多个赋值语句，必须使用平行赋值的方式来初始化多个变量 

参考答案：CD
</code></pre></div></li> <li><p>【中级】对于函数定义：</p> <div class="language- extra-class"><pre class="language-text"><code>func add(args ...int) int {
	sum := 0
	for _, arg := range args {
		sum += arg
	}
	return sum
}

下面对add函数调用正确的是（）
A. add(1, 2)
B. add(1, 3, 7)
C. add([]int{1, 2})
D. add([]int{1, 3, 7}...)

参考答案：ABD
</code></pre></div></li> <li><p>【初级】关于类型转化，下面语法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. type MyInt int
   var i int = 1
   var j MyInt = i   // i 不是MyInt类型无法转换
   
B. type MyIntint
	 var i int= 1
	 var j MyInt = (MyInt)i // MyInt非内置数据类型无法隐士转换
	 
C. type MyIntint
	 var i int= 1
   var j MyInt = MyInt(i)
   
D. type MyIntint
	 var i int= 1
   var j MyInt = i.(MyInt)
   
参考答案：C
</code></pre></div></li> <li><p>【初级】关于局部变量的初始化，下面正确的使用方式是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. var i int = 10
B. var i = 10
C. i := 10
D. i = 10

参考答案：ABC
</code></pre></div></li> <li><p>【初级】关于const常量定义，下面正确的使用方式是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. const Pi float64 = 3.14159265358979323846
	 const zero= 0.0 
B. const (
		size int64= 1024
		eof = -1
	)	
C. const (
		ERR_ELEM_EXISTerror = errors.New(&quot;element already exists&quot;)
		ERR_ELEM_NT_EXISTerror = errors.New(&quot;element not exists&quot;)
	)	
D. const u, vfloat32 = 0, 3
	 const a,b, c = 3, 4, &quot;foo&quot;	

参考答案：ABD
</code></pre></div></li> <li><p>【初级】关于布尔变量b的赋值，下面错误的用法是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. b = true
B. b = 1
C. b = bool(1)
D. b = (1 == 2)  //	b := (1 == 2) 可以
 
参考答案：BC
</code></pre></div></li> <li><p>【中级】下面的程序的运行结果是（）</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token boolean">true</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 31</span>
</code></pre></div></li> <li><p>【初级】关于switch语句，下面说法正确的有（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 条件表达式必须为常量或者整数
B. 单个case中，可以出现多个结果选项
C. 需要用break来明确退出一个case
D. 只有在case中明确添加fallthrough关键字，才会继续执行紧跟的下一个case

参考答案：BD
</code></pre></div></li> <li><p>【中级】 golang中没有隐藏的this指针，这句话的含义是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 方法施加的对象显式传递，没有被隐藏起来
B. golang沿袭了传统面向对象编程中的诸多概念，比如继承、虚函数和构造函数
C. golang的面向对象表达更直观，对于面向过程只是换了一种语法形式来表达
D. 方法施加的对象不需要非得是指针，也不用非得叫this

参考答案：ACD
</code></pre></div></li> <li><p>【中级】 golang中的引用类型包括（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 数组切片
B. map
C. channel
D. interface

参考答案：ABCD
</code></pre></div></li> <li><p>中级】 golang中的指针运算包括（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 可以对指针进行自增或自减运算
B. 可以通过“&amp;”取指针的地址
C. 可以通过“*”取指针指向的数据
D. 可以对指针进行下标运算

参考答案：BC
</code></pre></div></li> <li><p>【初级】关于main函数（可执行程序的执行起点），下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. main函数不能带参数
B. main函数不能定义返回值
C. main函数所在的包必须为main包
D. main函数中可以使用flag包来获取和解析命令行参数

参考答案：ABCD
</code></pre></div></li> <li><p>【中级】下面赋值正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. var x = nil
B. var x interface{} = nil
C. var x string = nil
D. var x error = nil

参考答案：BD
</code></pre></div></li> <li><p>【中级】关于整型切片的初始化，下面正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. s := make([]int)
B. s := make([]int, 0)
C. s := make([]int, 5, 10)
D. s := []int{1, 2, 3, 4, 5}

参考答案：BCD
</code></pre></div></li> <li><p>【中级】从切片中删除一个元素，下面的算法实现正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>func (s *Slice)Remove(value interface{}) error {
	for i, v:= range *s {
		if isEqual(value, v) {
			*s =append((*s)[:i],(*s)[i + 1:]...)
			return nil
		}
	}
	return ERR_ELEM_NT_EXIST
}
</code></pre></div></li> <li><p>【中级】关于函数声明，下面语法错误的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. func f(a, b int) (value int, err error)
B. func f(a int, b int) (value int, err error)
C. func f(a, b int) (value int, error)
D. func f(a int, b int) (int, int, error)

参考答案：C
</code></pre></div></li> <li><p>函数调用的方法</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> Integer <span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>a Integer<span class="token punctuation">)</span> <span class="token function">Add</span><span class="token punctuation">(</span>b Integer<span class="token punctuation">)</span> Integer <span class="token punctuation">{</span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>Integer<span class="token punctuation">)</span> <span class="token function">Add2</span><span class="token punctuation">(</span>b Integer<span class="token punctuation">)</span> Integer <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> a Integer <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">var</span> b Integer <span class="token operator">=</span> <span class="token number">2</span>
	<span class="token keyword">var</span> i <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>a
	sum <span class="token operator">:=</span> i<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>Integer<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
	sum2 <span class="token operator">:=</span> i<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>Integer<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add2</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span>sum2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>【初级】关于同步锁，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 当一个goroutine获得了Mutex后，其他goroutine就只能乖乖的等待，除非该goroutine释放这个Mutex
B. RWMutex在读锁占用的情况下，会阻止写，但不阻止读
C. RWMutex在写锁占用情况下，会阻止任何其他goroutine（无论读和写）进来，整个锁相当于由该goroutine独占
D. Lock()操作需要保证有Unlock()或RUnlock()调用与之对应

参考答案：ABC
</code></pre></div></li> <li><p>【中级】 golang中大多数数据类型都可以转化为有效的JSON文本，下面几种类型除外（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 指针
B. channel
C. complex
D. 函数

参考答案：BCD
</code></pre></div></li> <li><p>【中级】关于go vendor，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 基本思路是将引用的外部包的源代码放在当前工程的vendor目录下面
B. 编译go代码会优先从vendor目录先寻找依赖包
C. 可以指定引用某个特定版本的外部包
D. 有了vendor目录后，打包当前的工程代码到其他机器的$GOPATH/src下都可以通过编译

参考答案：ABD
</code></pre></div></li> <li><p>【初级】 flag是bool型变量，下面if表达式符合编码规范的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. if flag == 1
B. if flag
C. if flag == false
D. if !flag

参考答案：BD
</code></pre></div></li> <li><p>【初级】 value是整型变量，下面if表达式符合编码规范的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. if value == 0
B. if value
C. if value != 0
D. if !value

参考答案：AC
</code></pre></div></li> <li><p>【中级】关于函数返回值的错误设计，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 如果失败原因只有一个，则返回bool
B. 如果失败原因超过一个，则返回error
C. 如果没有失败原因，则不返回bool或error
D. 如果重试几次可以避免失败，则不要立即返回bool或error

参考答案：ABCD
</code></pre></div></li> <li><p>【中级】关于异常设计，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 在程序开发阶段，坚持速错，让程序异常崩溃
B. 在程序部署后，应恢复异常避免程序终止
C. 一切皆错误，不用进行异常设计
D. 对于不应该出现的分支，使用异常处理

参考答案：ABD
</code></pre></div></li> <li><p>【中级】关于slice或map操作，下面正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A.var s []int
	s =append(s,1)

B.var mmap[string]int
	m[&quot;one&quot;]= 1

C.var s[]int
	s =make([]int, 0)
	s =append(s,1)

D.var mmap[string]int
	m =make(map[string]int)
	m[&quot;one&quot;]= 1

参考答案：ACD
</code></pre></div></li> <li><p>【中级】关于channel的特性，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 给一个 nil channel 发送数据，造成永远阻塞
B. 从一个 nil channel 接收数据，造成永远阻塞
C. 给一个已经关闭的 channel 发送数据，引起 panic
D. 从一个已经关闭的 channel 接收数据，如果缓冲区中为空，则返回一个零值

参考答案：ABCD
</code></pre></div></li> <li><p>【中级】关于无缓冲和有冲突的channel，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 无缓冲的channel是默认的缓冲为1的channel
B. 无缓冲的channel和有缓冲的channel都是同步的
C. 无缓冲的channel和有缓冲的channel都是非同步的
D. 无缓冲的channel是同步的，而有缓冲的channel是非同步的

参考答案：D
</code></pre></div></li> <li><p>【中级】关于异常的触发，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. 空指针解析
B. 下标越界
C. 除数为0
D. 调用panic函数

参考答案：ABCD
</code></pre></div></li> <li><p>【中级】关于cap函数的适用类型，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. array
B. slice
C. map
D. channel

参考答案：ABD
</code></pre></div></li> <li><p>【中级】关于beego框架，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. beego是一个golang实现的轻量级HTTP框架
B. beego可以通过注释路由、正则路由等多种方式完成url路由注入
C. 可以使用bee new工具生成空工程，然后使用bee run命令自动热编译
D. beego框架只提供了对url路由的处理，而对于MVC架构中的数据库部分未提供框架支持

参考答案：ABC
</code></pre></div></li> <li><p>【中级】关于goconvey，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. goconvey是一个支持golang的单元测试框架
B. goconvey能够自动监控文件修改并启动测试，并可以将测试结果实时输出到web界面
C. goconvey提供了丰富的断言简化测试用例的编写
D. goconvey无法与go test集成

参考答案：ABC
</code></pre></div></li> <li><p>【中级】关于go vet，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. go vet是golang自带工具go tool vet的封装
B. 当执行go vet database时，可以对database所在目录下的所有子文件夹进行递归检测
C. go vet可以使用绝对路径、相对路径或相对GOPATH的路径指定待检测的包
D. go vet可以检测出死代码

参考答案：ACD
</code></pre></div></li> <li><p>【中级】关于map，下面说法正确的是（）</p></li></ol> <div class="language- extra-class"><pre><code>```
A. map反序列化时json.unmarshal的入参必须为map的地址
B. 在函数调用中传递map，则子函数中对map元素的增加不会导致父函数中map的修改
C. 在函数调用中传递map，则子函数中对map元素的修改不会导致父函数中map的修改
D. 不能使用内置函数delete删除map的元素

参考答案：A
```
</code></pre></div><ol start="41"><li>【初级】关于select机制，下面说法正确的是（）</li></ol> <div class="language- extra-class"><pre><code>```
A. select机制用来处理异步IO问题
B. select机制最大的一条限制就是每个case语句里必须是一个IO操作
C. golang在语言级别支持select关键字
D. select关键字的用法与switch语句非常类似，后面要带判断条件

参考答案：ABC
```
</code></pre></div><ol start="42"><li><p>【初级】关于内存泄露，下面说法正确的是（）</p> <div class="language- extra-class"><pre class="language-text"><code>A. golang有自动垃圾回收，不存在内存泄露
B. golang中检测内存泄露主要依靠的是pprof包
C. 内存泄露可以在编译阶段发现
D. 应定期使用浏览器来查看系统的实时内存信息，及时发现内存泄露问题

参考答案：BD
</code></pre></div></li></ol> <h2 id="填空题"><a href="#填空题" class="header-anchor">#</a> 填空题</h2> <ol><li><p>【初级】声明一个整型变量i __________</p> <div class="language- extra-class"><pre class="language-text"><code>参考答案：var i int
</code></pre></div></li> <li><p>【初级】声明一个含有10个元素的整型数组a__________</p> <div class="language- extra-class"><pre class="language-text"><code>参考答案：var a [10]int
</code></pre></div></li> <li><p>【初级】声明一个整型数组切片s__________</p> <div class="language- extra-class"><pre class="language-text"><code>参考答案：var s []int
</code></pre></div></li> <li><p>【初级】声明一个整型指针变量p__________</p> <div class="language- extra-class"><pre class="language-text"><code>参考答案：var p *int
</code></pre></div></li> <li><p>【初级】声明一个key为字符串型value为整型的map变量m__________</p> <div class="language- extra-class"><pre class="language-text"><code>参考答案：var m map[string]int
</code></pre></div></li> <li><p>【初级】声明一个入参和返回值均为整型的函数变量f__________</p> <div class="language- extra-class"><pre class="language-text"><code>参考答案：var f func(a int) int
</code></pre></div></li> <li><p>【初级】声明一个只用于读取int数据的单向channel变量ch__________</p> <div class="language- extra-class"><pre class="language-text"><code>参考答案：var ch &lt;-chan int
</code></pre></div></li> <li><p>【初级】假设源文件的命名为slice.go，则测试文件的命名为__________</p> <div class="language- extra-class"><pre class="language-text"><code>参考答案：slice_test.go
</code></pre></div></li> <li><p>【初级】 go test要求测试函数的前缀必须命名为__________</p> <div class="language- extra-class"><pre class="language-text"><code>参考答案：Test
</code></pre></div></li> <li><p>【中级】下面的程序的运行结果是__________</p> <div class="language-go extra-class"><pre class="language-go"><code> <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
 		<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 
 <span class="token comment">// 4 3 2 1 0</span>
</code></pre></div></li> <li><p>【中级】下面的程序的运行结果是__________</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	x <span class="token operator">:=</span> <span class="token number">1</span>
	<span class="token punctuation">{</span>
		x <span class="token operator">:=</span> <span class="token number">2</span>
		fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//21</span>
</code></pre></div></li> <li><p>【中级】下面的程序的运行结果是__________</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	strs <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;two&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;three&quot;</span><span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> s <span class="token operator">:=</span> <span class="token keyword">range</span> strs <span class="token punctuation">{</span>
		<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s &quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// three three three</span>
</code></pre></div></li> <li><p>【中级】下面的程序的运行结果是__________</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	x <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">}</span>
	<span class="token keyword">for</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> x <span class="token punctuation">{</span>  <span class="token comment">// k,v := range x 这里的k是索引</span>
		fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//012</span>
</code></pre></div></li> <li><p>【中级】下面的程序的运行结果是__________</p> <div class="language- extra-class"><pre class="language-text"><code>func main() {
	i := 1
	j := 2
	i, j = j, i
	fmt.Printf(&quot;%d%d\n&quot;, i, j)
}
//21
</code></pre></div></li> <li><p>【初级】下面的程序的运行结果是__________</p> <div class="language- extra-class"><pre class="language-text"><code>func incr(p *int) int {
	*p++
	return *p
}

func main() {
	v := 1
	incr(&amp;v)
	fmt.Println(v)
}
// 参考答案：2
</code></pre></div></li> <li><p>【初级】下面的程序的运行结果是__________</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> Slice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token function">NewSlice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Slice <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">make</span><span class="token punctuation">(</span>Slice<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>Slice<span class="token punctuation">)</span> <span class="token function">Add</span><span class="token punctuation">(</span>elem <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">*</span>Slice <span class="token punctuation">{</span>
	<span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">,</span> elem<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
	<span class="token keyword">return</span> s
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	s <span class="token operator">:=</span> <span class="token function">NewSlice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//132</span>
</code></pre></div></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.51f2f156.js" defer></script><script src="/assets/js/2.8911ec45.js" defer></script><script src="/assets/js/10.6948c28b.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python面试题 | 独角兕大王</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.ccac5a78.css" as="style"><link rel="preload" href="/assets/js/app.51f2f156.js" as="script"><link rel="preload" href="/assets/js/2.8911ec45.js" as="script"><link rel="preload" href="/assets/js/65.0234d7c5.js" as="script"><link rel="prefetch" href="/assets/js/10.6948c28b.js"><link rel="prefetch" href="/assets/js/100.276864ee.js"><link rel="prefetch" href="/assets/js/101.447ab1c7.js"><link rel="prefetch" href="/assets/js/102.f5b3c71d.js"><link rel="prefetch" href="/assets/js/103.16474d4b.js"><link rel="prefetch" href="/assets/js/104.ed58aef3.js"><link rel="prefetch" href="/assets/js/105.045203cd.js"><link rel="prefetch" href="/assets/js/106.be359e0b.js"><link rel="prefetch" href="/assets/js/107.7331bbca.js"><link rel="prefetch" href="/assets/js/108.76e1c800.js"><link rel="prefetch" href="/assets/js/109.e82166f3.js"><link rel="prefetch" href="/assets/js/11.d4ec37c8.js"><link rel="prefetch" href="/assets/js/110.4144755a.js"><link rel="prefetch" href="/assets/js/111.5864ab53.js"><link rel="prefetch" href="/assets/js/112.ca2aee84.js"><link rel="prefetch" href="/assets/js/113.641e7765.js"><link rel="prefetch" href="/assets/js/114.d69f8545.js"><link rel="prefetch" href="/assets/js/115.1b6a9f89.js"><link rel="prefetch" href="/assets/js/116.dde2c44e.js"><link rel="prefetch" href="/assets/js/117.4e79498c.js"><link rel="prefetch" href="/assets/js/12.7aac9c8d.js"><link rel="prefetch" href="/assets/js/13.abf127cd.js"><link rel="prefetch" href="/assets/js/14.aa4413a7.js"><link rel="prefetch" href="/assets/js/15.11a64e5b.js"><link rel="prefetch" href="/assets/js/16.f2d9a882.js"><link rel="prefetch" href="/assets/js/17.11c5bb7f.js"><link rel="prefetch" href="/assets/js/18.a522877b.js"><link rel="prefetch" href="/assets/js/19.6f31a972.js"><link rel="prefetch" href="/assets/js/20.b546c54e.js"><link rel="prefetch" href="/assets/js/21.6d055b7f.js"><link rel="prefetch" href="/assets/js/22.c48feceb.js"><link rel="prefetch" href="/assets/js/23.69941f78.js"><link rel="prefetch" href="/assets/js/24.6126dfc2.js"><link rel="prefetch" href="/assets/js/25.3475449c.js"><link rel="prefetch" href="/assets/js/26.96bb4643.js"><link rel="prefetch" href="/assets/js/27.da610e5d.js"><link rel="prefetch" href="/assets/js/28.b24ec15c.js"><link rel="prefetch" href="/assets/js/29.ec8af553.js"><link rel="prefetch" href="/assets/js/3.bec5f768.js"><link rel="prefetch" href="/assets/js/30.2e780db1.js"><link rel="prefetch" href="/assets/js/31.464c36ed.js"><link rel="prefetch" href="/assets/js/32.ad7d37c2.js"><link rel="prefetch" href="/assets/js/33.722f1ec5.js"><link rel="prefetch" href="/assets/js/34.8448d0fd.js"><link rel="prefetch" href="/assets/js/35.e5168ac9.js"><link rel="prefetch" href="/assets/js/36.edc404f1.js"><link rel="prefetch" href="/assets/js/37.5807602e.js"><link rel="prefetch" href="/assets/js/38.a519c89a.js"><link rel="prefetch" href="/assets/js/39.89af1b9a.js"><link rel="prefetch" href="/assets/js/4.5ed19beb.js"><link rel="prefetch" href="/assets/js/40.6c653db9.js"><link rel="prefetch" href="/assets/js/41.bc3b8b69.js"><link rel="prefetch" href="/assets/js/42.a0a02d9b.js"><link rel="prefetch" href="/assets/js/43.62f344e3.js"><link rel="prefetch" href="/assets/js/44.a7fd9d68.js"><link rel="prefetch" href="/assets/js/45.729c1c39.js"><link rel="prefetch" href="/assets/js/46.5b924aea.js"><link rel="prefetch" href="/assets/js/47.f3990404.js"><link rel="prefetch" href="/assets/js/48.f591f360.js"><link rel="prefetch" href="/assets/js/49.f7f213ad.js"><link rel="prefetch" href="/assets/js/5.2c5d28b5.js"><link rel="prefetch" href="/assets/js/50.b9ca2762.js"><link rel="prefetch" href="/assets/js/51.93672ee6.js"><link rel="prefetch" href="/assets/js/52.fb21314a.js"><link rel="prefetch" href="/assets/js/53.65343ccc.js"><link rel="prefetch" href="/assets/js/54.8081227d.js"><link rel="prefetch" href="/assets/js/55.e207659e.js"><link rel="prefetch" href="/assets/js/56.bde381df.js"><link rel="prefetch" href="/assets/js/57.f8eceb45.js"><link rel="prefetch" href="/assets/js/58.bef70bfd.js"><link rel="prefetch" href="/assets/js/59.7ab7562d.js"><link rel="prefetch" href="/assets/js/6.fc65a1ac.js"><link rel="prefetch" href="/assets/js/60.f40ac3ca.js"><link rel="prefetch" href="/assets/js/61.d2b463ab.js"><link rel="prefetch" href="/assets/js/62.cfdf1bcf.js"><link rel="prefetch" href="/assets/js/63.1e45ce59.js"><link rel="prefetch" href="/assets/js/64.a98fe86e.js"><link rel="prefetch" href="/assets/js/66.724906f0.js"><link rel="prefetch" href="/assets/js/67.7806fda6.js"><link rel="prefetch" href="/assets/js/68.9f227dae.js"><link rel="prefetch" href="/assets/js/69.fdbc56ac.js"><link rel="prefetch" href="/assets/js/7.284de54e.js"><link rel="prefetch" href="/assets/js/70.04a9cc03.js"><link rel="prefetch" href="/assets/js/71.a6fa1dd9.js"><link rel="prefetch" href="/assets/js/72.2f8e3aa0.js"><link rel="prefetch" href="/assets/js/73.9bbb0cb6.js"><link rel="prefetch" href="/assets/js/74.9f122255.js"><link rel="prefetch" href="/assets/js/75.75e1fbd8.js"><link rel="prefetch" href="/assets/js/76.60ff3c3e.js"><link rel="prefetch" href="/assets/js/77.39a253ae.js"><link rel="prefetch" href="/assets/js/78.0e49712f.js"><link rel="prefetch" href="/assets/js/79.5f9c24a0.js"><link rel="prefetch" href="/assets/js/8.5c21a4cc.js"><link rel="prefetch" href="/assets/js/80.f826f188.js"><link rel="prefetch" href="/assets/js/81.b8995ea7.js"><link rel="prefetch" href="/assets/js/82.e9bf63e0.js"><link rel="prefetch" href="/assets/js/83.e3a00749.js"><link rel="prefetch" href="/assets/js/84.b940927c.js"><link rel="prefetch" href="/assets/js/85.ad46a9b2.js"><link rel="prefetch" href="/assets/js/86.190e0071.js"><link rel="prefetch" href="/assets/js/87.5f9eb9ef.js"><link rel="prefetch" href="/assets/js/88.cfaf7469.js"><link rel="prefetch" href="/assets/js/89.e64cc32c.js"><link rel="prefetch" href="/assets/js/9.0723805d.js"><link rel="prefetch" href="/assets/js/90.805edabe.js"><link rel="prefetch" href="/assets/js/91.6a1ab3f7.js"><link rel="prefetch" href="/assets/js/92.04ecd01e.js"><link rel="prefetch" href="/assets/js/93.e615470a.js"><link rel="prefetch" href="/assets/js/94.0ad7c41c.js"><link rel="prefetch" href="/assets/js/95.0e5ce618.js"><link rel="prefetch" href="/assets/js/96.b59cf9f4.js"><link rel="prefetch" href="/assets/js/97.2a327746.js"><link rel="prefetch" href="/assets/js/98.9c01ec88.js"><link rel="prefetch" href="/assets/js/99.952046bd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ccac5a78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://github.com/fluidicon.png" alt="独角兕大王" class="logo"> <span class="site-name can-hide">独角兕大王</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/python/" class="nav-link router-link-active">
  Python
</a></div><div class="nav-item"><a href="/rust/" class="nav-link">
  Rust
</a></div><div class="nav-item"><a href="/go/" class="nav-link">
  Go
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/lua/" class="nav-link">
  Lua
</a></div><div class="nav-item"><a href="/C/" class="nav-link">
  C++
</a></div><div class="nav-item"><a href="https://github.com/wuyuz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.cnblogs.com/double-W/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cnblogs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/python/" class="nav-link router-link-active">
  Python
</a></div><div class="nav-item"><a href="/rust/" class="nav-link">
  Rust
</a></div><div class="nav-item"><a href="/go/" class="nav-link">
  Go
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/lua/" class="nav-link">
  Lua
</a></div><div class="nav-item"><a href="/C/" class="nav-link">
  C++
</a></div><div class="nav-item"><a href="https://github.com/wuyuz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.cnblogs.com/double-W/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cnblogs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Python常用模块</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/python/pkg/常用模块.html" class="sidebar-link">常用模块</a></li><li><a href="/python/pkg/常用模块（二）.html" class="sidebar-link">常用模块（二）</a></li><li><a href="/python/pkg/asyncio模块.html" class="sidebar-link">asyncio 模块</a></li><li><a href="/python/pkg/socketserver模块.html" class="sidebar-link">socketserver模块</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Django框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flask 框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python爬虫</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python设计模式</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="python面试题"><a href="#python面试题" class="header-anchor">#</a> Python面试题</h2> <ol><li><p><strong>Python</strong>中关键字<strong>yield</strong>有什么作用</p> <p>yield 的用法有以下四种常见的情况：</p> <p>​	1、一是生成器，</p> <p>​	2、二是用于定义上下文管理器，</p> <p>​    3、三是协程，</p> <p>​	4、四是配合 from 形成 <code>yield from</code> 用于消费子生成器并传递消息。</p> <p>​	这四种用法，其实都源于 yield 所具有的暂停的特性，也就说程序在运行到 yield 所在的位置 <code>result = yield expr</code> 时，先执行 <code>yield expr</code> 将产生的值返回给调用生成器的 caller，然后暂停，等待 caller 再次激活并恢复程序的执行。而根据恢复程序使用的方法不同，<code>yield expr</code> 表达式的结果值 <code>result</code> 也会跟着变化。如果使用 <code>__next()__</code> 来调用，则 yield 表达式的值 <code>result</code> 是 None；如果使用 <code>send()</code> 来调用，则 yield 表达式的值 <code>result</code> 是通过 send 函数传送的值。下面是官方文档介绍 yield 表达式时的一个例子[<a href="#ref_1">1]</a>，能够很好地说明关键字  yield 的特性和用法：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">echo</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Begin...&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">try</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>             <span class="token keyword">try</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">yield</span> value<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>             <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 value <span class="token operator">=</span> e
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">finally</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Clean up!!!&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> generator <span class="token operator">=</span> echo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>
Begin<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">1</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token boolean">None</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">2</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> generator<span class="token punctuation">.</span>throw<span class="token punctuation">(</span>TypeError<span class="token punctuation">,</span> <span class="token string">&quot;spam&quot;</span><span class="token punctuation">)</span>
TypeError<span class="token punctuation">(</span><span class="token string">'spam'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> generator<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
Clean up!!!

<span class="token comment">#执行第一个 next(generator) 的时候，也就是预激活生成器，生成器开始执行，打印 Begin... 字符串，执行到 value = (yield value) 的位置时，首先调用 yield value 产生数字 1，然后生成器在 yield 的位置暂停。接着调用第 2 个 next(generator) 的时候，生成器恢复执行，由于使用 next() 来调用生成器函数， value 的值会变成 None ，因此生成器函数继续执行到 yield value 时，会将 value 的值 None 返回给解释器，然后再次暂停。接着使用 send(2) 方法继续调用生成器，value 接收到传入的数字 2，继续到执行 value = (yield value) ，将数字 2 返回给解释器后暂停。此后，解释器再次通过 throw(TypeError, &quot;spam&quot;) 方法调用，生成器恢复执行，并抛出异常，生成器捕获到异常，并将异常 TypeError('spam') 赋值给变量 value，然后程序再次执行到 value = (yield value) ，将 TypeError('spam') 返回给解释器。最后，程序调用 close() 方法，在生成器函数的位置抛出 GeneratorExit ，异常被抛出，生成器正常退出，并最终执行最外层 try 语句对应的 finally 分支，打印输出 Clean up</span>
</code></pre></div><ul><li><p>生成器</p> <p>不出意外，你最先遇到 yield 一定会是一个生成器函数里面。生成器是一个用于不断生成数字或者其他类型的值的函数，可以通过 for 循环或者 next() 函数逐一调用</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">integers_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">yield</span> i <span class="token operator">+</span> <span class="token number">1</span>

<span class="token keyword">for</span> n <span class="token keyword">in</span> integers_1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>

<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
</code></pre></div></li> <li><p>上下文管理</p> <p>配合 Python 的 <code>contexlib</code> 模块里的 <code>@contextmanager</code> 装饰器，yield 也可以用于定义上下文管理器，下面是 Python Tricks 书中的一个例子[<a href="https://www.zhihu.com/question/345210030/answer/841903171#ref_3" target="_blank" rel="noopener noreferrer">3]<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> contextlib <span class="token keyword">import</span> contextmanager

<span class="token decorator annotation punctuation">@contextmanager</span>
<span class="token keyword">def</span> <span class="token function">managed_file</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>
        <span class="token keyword">yield</span> f
    <span class="token keyword">finally</span><span class="token punctuation">:</span>
        f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 等效于with上下文</span>
<span class="token keyword">class</span> <span class="token class-name">ManagedFile</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

    <span class="token keyword">def</span> <span class="token function">__enter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span><span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">file</span>

    <span class="token keyword">def</span> <span class="token function">__exit__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> exc_type<span class="token punctuation">,</span> exc_val<span class="token punctuation">,</span> exc_tb<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span><span class="token builtin">file</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span><span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 调用</span>
<span class="token keyword">with</span> ManagedFile<span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'hello, world!'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'bye now'</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">with</span> managed_file<span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'hello, world!'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'bye now'</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>协程</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque
<span class="token comment"># Two simple generator functions</span>
<span class="token keyword">def</span> <span class="token function">countdown</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'T-minus'</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
        <span class="token keyword">yield</span>
        n <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Blastoff!'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">countup</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> x <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Counting up'</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
        <span class="token keyword">yield</span>
        x <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">class</span> <span class="token class-name">TaskScheduler</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_task_queue <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">new_task</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> task<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        Admit a newly started task to the scheduler

        '''</span>
        self<span class="token punctuation">.</span>_task_queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span>task<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        Run until there are no more tasks
        '''</span>
        <span class="token keyword">while</span> self<span class="token punctuation">.</span>_task_queue<span class="token punctuation">:</span>
            task <span class="token operator">=</span> self<span class="token punctuation">.</span>_task_queue<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">try</span><span class="token punctuation">:</span>
                <span class="token comment"># Run until the next yield statement</span>
                <span class="token builtin">next</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>_task_queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span>task<span class="token punctuation">)</span>
            <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span>
                <span class="token comment"># Generator is no longer executing</span>
                <span class="token keyword">pass</span>

<span class="token comment"># Example use</span>
sched <span class="token operator">=</span> TaskScheduler<span class="token punctuation">(</span><span class="token punctuation">)</span>
sched<span class="token punctuation">.</span>new_task<span class="token punctuation">(</span>countdown<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sched<span class="token punctuation">.</span>new_task<span class="token punctuation">(</span>countup<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sched<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#T-minus 2</span>
<span class="token comment">#Counting up 0</span>
<span class="token comment">#T-minus 1</span>
<span class="token comment">#Counting up 1</span>
<span class="token comment">#Blastoff!</span>
<span class="token comment">#Counting up 2</span>
<span class="token comment">#Counting up 3</span>
<span class="token comment">#Counting up 4</span>
</code></pre></div><p><code>countdown</code> 和 <code>countup</code> 两个任务交替执行，主程序在执行到 <code>countdown</code> 函数的 yield 表达式时，暂停后将被重新附加到队列里面。然后，<code>countup</code> 任务从队列中取了出来，并开始执行到 yield 表达式的地方后暂停，同样将暂停后的协程附加到队列里面，接着从队列里取出最左边的任务 <code>countdown</code> 继续执行。重复上述过程，直到队列为空。</p> <p>上面的协程可以利用 Python3.7 中的 asyncio 库改写为：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> asyncio

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">countdown</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'T-minus'</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
        <span class="token keyword">await</span> asyncio<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        n <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Blastoff!'</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">countup</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> x <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Counting up'</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
        <span class="token keyword">await</span> asyncio<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        x <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">await</span> asyncio<span class="token punctuation">.</span>gather<span class="token punctuation">(</span>countdown<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> countup<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

asyncio<span class="token punctuation">.</span>run<span class="token punctuation">(</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p><strong>Python</strong>中的元类**(metaclass)**是什么</p> <div class="language- extra-class"><pre class="language-text"><code>元类就是创建类的东西. 你是为了创建对象才定义类的,对吧? 但是我们已经知道了Python的类是对象. 这里,元类创建类.它们是类的类,你可以把它们想象成这样: 
 MyClass = MetaClass() MyObject = MyClass()
</code></pre></div></li> <li><p>Python中的三元运算符</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'true'</span> <span class="token keyword">if</span> <span class="token boolean">True</span> <span class="token keyword">else</span> <span class="token string">'false'</span> 
<span class="token string">'true'</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'true'</span> <span class="token keyword">if</span> <span class="token boolean">False</span> <span class="token keyword">else</span> <span class="token string">'false'</span> 
<span class="token string">'false'</span>
</code></pre></div></li> <li><p>用<strong>Python</strong>如何一个文件是否存在**?**</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> os<span class="token punctuation">.</span>path 
os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>fname<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>**if __name__ == &quot;_<em>main</em>_&quot;😗*有什么作用</p> <div class="language- extra-class"><pre class="language-text"><code>当 Python 解析器读取一个源文件时, 会执行里面所有的代码. 但是在它执行之前会定义一些特殊的变量.例如,如果 Python 解析器把一个 module(the source file)当成主程序来执行的话, 它会把 __name__ 的值设置成为 __main__ .如果这个文件是被其 他 module 引入的, __name__ 的名字将会被设成 module 的名字. 在你给的例子中, 我们假设作为一个主程序来执行

就是防止有些代码在导入该文件时被执行，而我们只想在执行该文件的时候执行
</code></pre></div></li> <li><p>在<strong>Python</strong>中调用外部命令</p> <div class="language- extra-class"><pre class="language-text"><code>1. os.system(&quot;命令加参数&quot;) 把命令和参数传递给你系统的shell中.用这个命令的好处在于你可 以一次运行好多命令还可以设置管道来进行重定向
2.stream = os.popen(&quot;命令和参数&quot;) 这个命令和 os.system 差不多,但是它提供了一个连接标 准输入/输出的管道
3.subprocess 模块的管道 Popen .这个 Popen 是打算用来替代 os.popen 的方法
</code></pre></div></li> <li><p>如何在一个表达式里合并两个字典**?**</p> <div class="language- extra-class"><pre class="language-text"><code>&gt;&gt;&gt; x = {'a':1, 'b': 2} 
&gt;&gt;&gt; y = {'b':10, 'c': 11} 
&gt;&gt;&gt; z = x.update(y)
</code></pre></div></li> <li><p>用字典的值（key）对字典进行排序</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token builtin">sorted</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>装饰器**@staticmethod<strong>和</strong>@classmethod**有什么区别</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
		<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span> 
				<span class="token keyword">print</span> <span class="token string">&quot;executing foo(%s,%s)&quot;</span><span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>x<span class="token punctuation">)</span> 
				
		<span class="token decorator annotation punctuation">@classmethod</span> 
		<span class="token keyword">def</span> <span class="token function">class_foo</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span> 
				<span class="token keyword">print</span> <span class="token string">&quot;executing class_foo(%s,%s)&quot;</span><span class="token operator">%</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span>x<span class="token punctuation">)</span> 
				
		<span class="token decorator annotation punctuation">@staticmethod</span> 
		<span class="token keyword">def</span> <span class="token function">static_foo</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span> 
				<span class="token keyword">print</span> <span class="token string">&quot;executing static_foo(%s)&quot;</span><span class="token operator">%</span>x 
a<span class="token operator">=</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span>

a<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># executing foo(&lt;__main__.A object at 0xb7dbef0c&gt;,1)</span>

<span class="token comment">#用classmethods装饰,隐藏的传递给第一个参数的是对象实体的类( class A )而不是 self</span>
a<span class="token punctuation">.</span>class_foo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># executing class_foo(&lt;class '__main__.A'&gt;,1)</span>

A<span class="token punctuation">.</span>class_foo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># executing class_foo(&lt;class '__main__.A'&gt;,1)</span>

a<span class="token punctuation">.</span>static_foo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># executing static_foo(1)</span>
</code></pre></div></li> <li><p>append 和 extend 有什么区别?</p> <div class="language-python extra-class"><pre class="language-python"><code>x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> 
x<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> 
x<span class="token punctuation">.</span>extend<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token operator">//</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
</code></pre></div></li> <li><p>python中装饰器的运用</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">makebold</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">:</span> 
		<span class="token keyword">def</span> <span class="token function">wrapped</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
				<span class="token keyword">return</span> <span class="token string">&quot;&lt;b&gt;&quot;</span> <span class="token operator">+</span> fn<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&lt;/b&gt;&quot;</span> 
		<span class="token keyword">return</span> wrapped 

<span class="token keyword">def</span> <span class="token function">makeitalic</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">:</span> 
		<span class="token keyword">def</span> <span class="token function">wrapped</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
				<span class="token keyword">return</span> <span class="token string">&quot;&lt;i&gt;&quot;</span> <span class="token operator">+</span> fn<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&lt;/i&gt;&quot;</span> 
		<span class="token keyword">return</span> wrapped 
		
<span class="token decorator annotation punctuation">@makebold</span> 
<span class="token decorator annotation punctuation">@makeitalic</span> 
<span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
		<span class="token keyword">return</span> <span class="token string">&quot;hello world&quot;</span> <span class="token keyword">print</span> hello<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">## returns &lt;b&gt;&lt;i&gt;hello world&lt;/i&gt;&lt;/b&gt;</span>
</code></pre></div></li> <li><p>下面代码的运行结果</p> <div class="language- extra-class"><pre class="language-text"><code>def foo(a=[]): 
	a.append(5) 
	return a
	
&gt;&gt;&gt; foo() 
[5] 
&gt;&gt;&gt; foo() 
[5, 5] 
&gt;&gt;&gt; foo() 
[5, 5, 5]
</code></pre></div></li> <li><p>理解<strong>Python</strong>中**super()<strong>和</strong>__init__()**方法</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Base</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
		<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> 
				<span class="token keyword">print</span> <span class="token string">&quot;Base created&quot;</span> 
				
<span class="token keyword">class</span> <span class="token class-name">ChildA</span><span class="token punctuation">(</span>Base<span class="token punctuation">)</span><span class="token punctuation">:</span> 
		<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> 
				Base<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span> 
				
<span class="token keyword">class</span> <span class="token class-name">ChildB</span><span class="token punctuation">(</span>Base<span class="token punctuation">)</span><span class="token punctuation">:</span> 
		<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> 
				<span class="token builtin">super</span><span class="token punctuation">(</span>ChildB<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span> 
				
<span class="token keyword">print</span> ChildA<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ChildB<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#super() 的好处就是可以避免直接使用父类的名字.但是它主要用于多重继承,这里面有很多好 玩的东西.如果还不了解的话可以看看官方文档 注意在Python3.0里语法有所改变:你可以用 super().__init__() 替换 super(ChildB, self).__init__() .(在我看来非常nice)</span>
</code></pre></div></li> <li><p>通过列表中字典的值对列表进行排序</p> <div class="language-python extra-class"><pre class="language-python"><code>list_to_be_sorted <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'Bart'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'Homer'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span><span class="token number">39</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
newlist <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>list_to_be_sorted<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> k<span class="token punctuation">:</span> k<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>如何在python中使用枚举</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum 
Animal <span class="token operator">=</span> Enum<span class="token punctuation">(</span><span class="token string">'Animal'</span><span class="token punctuation">,</span> <span class="token string">'ant bee cat dog'</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>一行代码实现1～100求和</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>如何在一个函数中修改全局变量</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#利用 global 修改全局变量</span>
a <span class="token operator">=</span> <span class="token number">5</span>

<span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">global</span> a
  a <span class="token operator">=</span> <span class="token number">4</span>
</code></pre></div></li> <li><p>列出5个python标准库</p> <div class="language- extra-class"><pre class="language-text"><code>os：提供了不少与操作系统相关联的函数 
sys: 通常用于命令行参数 
re: 正则匹配 
math: 数学运算 
datetime:处理日期时间
json: json数据处理
pickle: 序列化
</code></pre></div></li> <li><p>谈下python的GIL</p> <div class="language- extra-class"><pre class="language-text"><code>GIL 是 python 的全局解释器锁，同一进程中假如有多个线程运行，一个线程在运行 python 程序的时候会霸占 python 解释 器（加了一把锁即 GIL），使该进程内的其他线程无法运行，等该线程运行完后其他线程才能运行。如果线程运行过程中 遇到耗时操作，则解释器锁解开，使其他线程运行。所以在多线程中，线程的运行仍是有先后顺序的，并不是同时进行。 多进程中因为每个进程都能被系统分配资源，相当于每个进程有了一个 python 解释器，所以多进程可以实现多个进程的同 时运行，缺点是进程系统资源开销大
</code></pre></div></li> <li><p>*args和**kwargs的区别</p> <div class="language- extra-class"><pre class="language-text"><code>*args：用于接受非键值对的可变参数类型
**kwargs：允许你将不定长的键值对传递给函数
</code></pre></div></li> <li><p>python2和 python3的range（100）的区别</p> <div class="language- extra-class"><pre class="language-text"><code>python2 返回列表，python3 返回迭代器，节约内存
</code></pre></div></li> <li><p>python 内建数据类型有哪些</p> <div class="language- extra-class"><pre class="language-text"><code>整型--int 布尔型--bool 字符串--str 列表--list 元组--tuple 字典--dict
</code></pre></div></li> <li><p>python的可变与不可变类型数据结构</p> <div class="language- extra-class"><pre class="language-text"><code>可变数据类型：列表list和字典dict。
不可变数据类型：整型int、浮点型float、字符串型string和元组tuple。
</code></pre></div></li> <li><p>简述面向对象中的_<em>new</em>_ 和__init__的区别</p> <div class="language- extra-class"><pre class="language-text"><code>__init__ 是初始化方法，创建对象后就立刻被调用，可接受参数

__new__至少有一个参数cls，代表当前类，此参数在实例化是有python解释器自动识别，先于__init__执行，同时返回一个object.__new__(cls),也就是生成了一个实例，这里的self就是实例对象
</code></pre></div></li> <li><p>简述with的上下文处理</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'实例化一个对象'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__enter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 如果有接受值，需要return</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'进入'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__exit__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> exc_type<span class="token punctuation">,</span> exc_val<span class="token punctuation">,</span> exc_tb<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'退出'</span><span class="token punctuation">)</span>
        
<span class="token keyword">with</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>下面需要匹配出div中间的数据： '&lt;div class=&quot;name&quot;&gt;中国内地&lt;/div&gt;'</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> re
<span class="token builtin">str</span> <span class="token operator">=</span>  <span class="token string">'&lt;div class=&quot;name&quot;&gt;中国内地&lt;/div&gt;'</span>
res <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r'&lt;div .*?&gt;(.*?)&lt;/div&gt;'</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>python中的断言</p> <div class="language- extra-class"><pre class="language-text"><code>a = 3
assert(a&gt;1)
</code></pre></div></li> <li><p>Python2 和 Python3的区别</p> <div class="language- extra-class"><pre class="language-text"><code>1、Python2中的print可以使用(),也可以不使用
2、python2中的range返回的是列表，而python3返回了迭代器，节约内存
3、python2使用的是ascii编码，python3是utf-8
4、python2中unicode表示字符串序列，python3是str表示字符串序列
5、python2的输入是raw_input()
</code></pre></div></li> <li><p>将a='张明98分'中的98替换为100</p> <div class="language-python extra-class"><pre class="language-python"><code>a<span class="token operator">=</span><span class="token string">'张明98分'</span>
ret <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'\d+'</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>简述mysql和redis的区别</p> <div class="language- extra-class"><pre class="language-text"><code>redis：内存型非关系型数据库，数据在内存中
mysql：关系型数据库，数据在磁盘中
</code></pre></div></li> <li><p>单例模式</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">:</span>
		_instance <span class="token operator">=</span> <span class="token boolean">None</span>
		<span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
				<span class="token keyword">if</span> <span class="token keyword">not</span> cls<span class="token punctuation">.</span>_instance<span class="token punctuation">:</span>
						cls<span class="token punctuation">.</span>_instance <span class="token operator">=</span> <span class="token builtin">object</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
				<span class="token keyword">return</span> _instance
      
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>				
<span class="token keyword">from</span> threading <span class="token keyword">import</span> Lock				
<span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	__instance <span class="token operator">=</span> <span class="token boolean">None</span>
	l <span class="token operator">=</span> Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> cls<span class="token punctuation">.</span>__instance<span class="token punctuation">:</span>
            <span class="token keyword">return</span> cls<span class="token punctuation">.</span>__instance
		<span class="token keyword">with</span> cls<span class="token punctuation">.</span>l<span class="token punctuation">:</span>
			<span class="token keyword">if</span> <span class="token keyword">not</span> cls<span class="token punctuation">.</span>__instance<span class="token punctuation">:</span>
				cls<span class="token punctuation">.</span>__instance <span class="token operator">=</span> <span class="token builtin">object</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
		<span class="token keyword">return</span> cls<span class="token punctuation">.</span>__instance
</code></pre></div></li> <li><p>分别从前端、后端、数据库阐述web项目的性能优化</p> <div class="language- extra-class"><pre class="language-text"><code>前端优化：
	1、减少http请求，例如雪批图
	2、html和css放在页面上部，js放页面下面，因为js加载比较慢，且静态文件可以在nginx层返回

后端优化：
	1、缓存存储读写次数高，变化少的数据，比如网站首页信息等数据可以先在缓存中读取
	2、异步方式，如果有耗时的操作，可以采用异步，如celery、或者中间件
	3、代码优化，避免循环和判断次数过多
	
数据库优化：
	1、查看数据量，如果单表数据过多，可以考虑分表
	2、针对读写业务场景，实现读写分离；甚至可以针对读库采用InnoDB引擎（读快）、写库采用MyISAM（写快）
	3、参看执行计划，查看后端服务是否命中索引
	4、创建索引
</code></pre></div></li> <li><p>列出常见的Mysql的数据存储引擎</p> <div class="language- extra-class"><pre class="language-text"><code>InnoDB：支持事务处理、支持外键，支持并发控制和修复能力；
MyISAM：插入数据快，空间和内存使用比较低，并发能力低
MEMORY: 所有数据都在内存中功能，数据处理快，但是不安全
</code></pre></div></li> <li><p>同源策略</p> <div class="language- extra-class"><pre class="language-text"><code>同源策略要求我们交互数据的两端：协议相同、端口相同、域名相同，只要满足任意一种不满足，就是不符合同源策略，导致跨域问题

1、http://www.test.com与https://www.test.com  不同协议
2、http://www.test.com与https://www.admin.com  不同域名
</code></pre></div></li> <li><p>简述cookie和session的区别</p> <div class="language- extra-class"><pre class="language-text"><code>1、session在服务端存储，cookie在客户端
2、session运行依赖sessionid，而sessionid存储在cookie中
3、cookie的安全性比session差
</code></pre></div></li> <li><p>列举数据类型的常用方法</p> <div class="language- extra-class"><pre class="language-text"><code>1.字符串：
	- split		由字符串分割成列表
    - format	字符串格式化输出
    - count		查找元素的个数
    - isdigit	判断字符串只由数字组成
    - strip		去掉两边空格
2.字典：
	- keys()	获取字段的键
    - values()	获取字典的值
    - items()	获取字典的键值。
    - update	有则改，没有就直接添加
    - pop(键)	删除一组键值对，返回的是值
3.list:
    - append	从列表后面添加
    - extend	打散添加
    - insert	向列表插入对象，第一个参数插入索引位置，第二个插入的对象
    - reverse	列表反转
    - sort		列表排序
4.集合：
	  - &amp; 交集
    - | 并集
    - - 差集
    add     添加元素
    discard   删除元素
    difference    求两个集合差集
    union			求两个集合并集
    intersection	求两个集合交集   
</code></pre></div></li> <li><p>集合求交并差</p> <div class="language- extra-class"><pre class="language-text"><code>交集：v1 &amp; v2
并集：v1 | v2
差集：
	v1中存在，v2中不存在：v1 - v2
	v2中存在，v1中不存在：v2 - v1
</code></pre></div></li> <li><p>如下两个类型的 ((1),(2),(3)) 和 （1,2,3）的区别？</p> <div class="language- extra-class"><pre class="language-text"><code>没有区别，一样的玩应。都是元组里面放整型
如果是((1,),(2,),(3,)) 就有区别了，元组套元组
</code></pre></div></li> <li><p>大文件读取操作</p> <div class="language- extra-class"><pre class="language-text"><code>1.获取该文件的大小：通过os.path.getsize
2.打开文件循环读取。每次读取1024字节，每读取1024字节减去1024字节
</code></pre></div></li> <li><p>常用的内置函数</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token builtin">len</span> 得到字符串或列表长度
<span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>stop<span class="token punctuation">[</span><span class="token punctuation">,</span>step<span class="token punctuation">]</span><span class="token punctuation">)</span> 生成一个可迭代对象，通过<span class="token keyword">for</span>循环遍历
<span class="token builtin">help</span> 返回对象帮助信息
<span class="token comment">#数据类型转换</span>
<span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>转列表 <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>转字典  <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token punctuation">)</span>转字符串 <span class="token builtin">tuple</span><span class="token punctuation">(</span><span class="token punctuation">)</span>转元组 <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">)</span>转整型
<span class="token comment">#进制转换</span>
<span class="token builtin">bin</span> 十进制转换二进制
<span class="token builtin">oct</span> 十进制转换八进制
<span class="token builtin">hex</span> 十进制转换十六进制
</code></pre></div></li> <li><p>高级的内置函数</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token builtin">map</span><span class="token operator">/</span><span class="token builtin">reduce</span><span class="token operator">/</span><span class="token builtin">filter</span><span class="token operator">/</span><span class="token builtin">zip</span>

<span class="token builtin">map</span><span class="token punctuation">:</span>第一个参数函数，第二个参数可迭代对象，用迭代对象每一个参数传入函数进行操作，生成新的可迭代对象。
    map_eg <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>map_eg<span class="token punctuation">)</span><span class="token comment">#[2,3,4]</span>
    
<span class="token builtin">filter</span>：第一个参数函数，第二个参数可迭代对象，通过函数进行筛选，生成一个新的可迭代对象
	<span class="token keyword">def</span> <span class="token function">is_odd</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> n<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span><span class="token number">1</span>
	filter_eg <span class="token operator">=</span> <span class="token builtin">filter</span><span class="token punctuation">(</span>is_odd<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    
<span class="token builtin">reduce</span><span class="token punctuation">:</span>第一个参数函数，第二个参数可迭代对象<span class="token punctuation">,</span>函数对可迭代对象进行累计操作，最后得到一个结果
    <span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span>
    <span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> x<span class="token operator">+</span>y
    reduce_eg <span class="token operator">=</span> <span class="token builtin">reduce</span><span class="token punctuation">(</span>add<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token builtin">zip</span><span class="token punctuation">:</span>参数一个或多个迭代对象，将迭代对象对应每个元素打包成一个个元组。
    a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span>
    b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
    <span class="token builtin">zip</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>什么是闭包？</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#内部函数调用外部函数存储的数据。</span>
<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	v <span class="token operator">=</span> <span class="token number">123</span>
	<span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
	<span class="token keyword">return</span> inner
data <span class="token operator">=</span> func<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>装饰器 &amp; 带参数的装饰器</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#必须手写出来</span>
<span class="token keyword">def</span> <span class="token function">deco</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">wapper</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
            ret <span class="token operator">=</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
            <span class="token keyword">return</span> ret
        <span class="token keyword">return</span> inner
    <span class="token keyword">return</span> wapper
  
<span class="token decorator annotation punctuation">@deco</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
index<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>列表生成式</p> <div class="language-python extra-class"><pre class="language-python"><code>v <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> x <span class="token operator">+</span> <span class="token number">10</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
result <span class="token operator">=</span> v<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment"># 19</span>
<span class="token comment"># 看作业出的题目</span>

<span class="token comment"># 字典推导式</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token string">'233'</span><span class="token punctuation">]</span>
temp <span class="token operator">=</span> <span class="token punctuation">{</span>index<span class="token punctuation">:</span> item <span class="token keyword">for</span> index<span class="token punctuation">,</span> item <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>  <span class="token comment"># {0: '11', 1: '233'}</span>

<span class="token comment"># 生成器推导式</span>
scq <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>scq<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>scq<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>scq<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>关系型数据库  和  非关系型数据库区别</p> <div class="language- extra-class"><pre class="language-text"><code>关系型：
	1.表和表、表和字段、数据和数据存在着关系。
    优点：
        1.数据之间有关系，进行数据的增删改查时候非常方便。
        2.关系型数据库是有事务操作，保证数据完整性和一致性。
    缺点：
        1.因数据和数据是有关系，会降低性能。
        2.面对大量数据增删改查很无力。
        
非关系型数据库：
	1.数据和数据没有关系，他们之间就是单独存在的
	优点：
		1.大量数据增删改查是毫无压力的
		2.大量数据维护和处理也非常轻松
	缺点
		2.非关系数据库没有关系，没有强大的事务关系，不保证数据完整性一致性。
</code></pre></div></li> <li><p>什么是迭代器？</p> <div class="language- extra-class"><pre class="language-text"><code>迭代器是对某种对象如list,str,tuple,dict,set创建的对象，通过&quot;__next__&quot;方法从前到后逐一迭代取值，只能向前无法倒退。

v1 = iter([1,2,3,4,5,6])
v1.__next__()
v1.__next__()
v1.__next__()
next(v1)
</code></pre></div></li> <li><p>什么是生成器？</p> <div class="language-python extra-class"><pre class="language-python"><code>函数中存在<span class="token keyword">yield</span>，那么这个函数是生成器函数，调用生成器函数会返回一个生成器。在调用生成器时，每次遇到<span class="token keyword">yield</span>时函数会暂停并保存当前所有运行信息，返回<span class="token keyword">yield</span>的值，并在下次执行<span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法时从当前位置继续执行。
生成器不会像列表一样，一次性将数据加载到内存中<span class="token punctuation">(</span>消耗内存<span class="token punctuation">)</span>，通过<span class="token keyword">for</span>循环取值。
不再在内存中一次创建太多数据，而是生成器让它在使用的过程中再逐步创建，一个函数如果内部含有<span class="token keyword">yield</span>关键字，则此函数是生成器函数。


<span class="token comment"># 生成器函数</span>
<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">yield</span> <span class="token number">1</span>
	<span class="token keyword">yield</span> <span class="token number">2</span>
	
<span class="token comment"># 生成器</span>
v1 <span class="token operator">=</span> func<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>函数的参数传递的是值？引用？</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#引用地址</span>
<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">pass</span>

a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">]</span> <span class="token comment"># 引用计数器 1 </span>
func<span class="token punctuation">(</span>a<span class="token punctuation">)</span>        <span class="token comment"># 引用计数器 2</span>
<span class="token comment"># [11,22,33]内存中的引用计数器再次变成 1</span>
</code></pre></div></li> <li><p>找文件夹下的所有文件</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> os
<span class="token builtin">file</span> <span class="token operator">=</span> os<span class="token punctuation">.</span>walk<span class="token punctuation">(</span><span class="token string">&quot;文件夹路径&quot;</span><span class="token punctuation">)</span>
<span class="token comment">#a查看目录，b此目录下文件夹(列表)，c此目录下文件(列表)</span>
<span class="token keyword">for</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c <span class="token keyword">in</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> c<span class="token punctuation">:</span>
        path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>a<span class="token punctuation">,</span>item<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>re模块中match和search的区别？</p> <div class="language- extra-class"><pre class="language-text"><code>re.match:从字符串起始处进行匹配，如果匹配成功返回匹配对象，否则返回None。
re.search：遍历整个字符串，如果匹配成功返回匹配对象，否则返回None。
</code></pre></div></li> <li><p>什么是贪婪匹配？</p> <div class="language- extra-class"><pre class="language-text"><code>贪婪匹配：正则表达式趋向于最大长度匹配
非贪婪匹配：正则表达式趋向于最小长度匹配

在正则匹配中，贪婪匹配指的是尽可能多的去匹配，通过在正则最后加？来控制。
</code></pre></div></li> <li><p>给你一段HTML，请找到某个标签。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> re
a <span class="token operator">=</span> <span class="token string">'&lt;a href=&quot;www.baidu.com&quot;&gt;'</span>
res <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'&lt;a href=&quot;(.*?)&quot;&gt;'</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>如何获取用户传入的参数</p> <div class="language- extra-class"><pre class="language-text"><code>sys.argv
获取用户执行脚本时，传入的参数。
</code></pre></div></li> <li><p>@staticmethod和@classmethod的区别？</p> <div class="language- extra-class"><pre class="language-text"><code>静态方法：@staticmethod
类方法：@classmethod

1.静态方法，传入参数不受限制，执行：类.方法()/对象.方法()
2.类方法：参数至少有一个cls,代表当前类。执行：类.方法()/对象.方法()
</code></pre></div></li> <li><p>super的作用？</p> <div class="language-python extra-class"><pre class="language-python"><code>根据类的继承关系（mro）方式向上继续找父类方法等。准寻C3算法而且保证每个父类方法只被调用一次。

<span class="token keyword">class</span> <span class="token class-name">Base</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'base.func'</span><span class="token punctuation">)</span>
		<span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Bar</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'bar.func'</span><span class="token punctuation">)</span>
	
<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span>Base<span class="token punctuation">,</span>Bar<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">pass</span> 

obj <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#base.func</span>
<span class="token comment">#bar.func</span>
</code></pre></div></li> <li><p>魔法方法（双下划綫方法</p> <div class="language-python extra-class"><pre class="language-python"><code>__new__ 
	a<span class="token punctuation">.</span> 该方法的返回值是什么？
	   未初始化的一个对象（一个内部没有数据的对象）
		<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
			<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
				self<span class="token punctuation">.</span>name <span class="token operator">=</span> name 
			<span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
				<span class="token comment"># 创建一个空的Foo类的对象</span>
				<span class="token keyword">return</span> <span class="token builtin">object</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
		obj <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token string">'李朋'</span><span class="token punctuation">)</span>
	b<span class="token punctuation">.</span> 单例模式（加锁）
    <span class="token keyword">from</span> threading <span class="token keyword">import</span> Lock
    <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
        __instance <span class="token operator">=</span> <span class="token boolean">None</span>
        l <span class="token operator">=</span> Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> cls<span class="token punctuation">.</span>l<span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token keyword">not</span> cls<span class="token punctuation">.</span>__instance<span class="token punctuation">:</span>
                    cls<span class="token punctuation">.</span>__instance <span class="token operator">=</span> <span class="token builtin">object</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
            <span class="token keyword">return</span> cls<span class="token punctuation">.</span>__instance
		<span class="token comment">#背写下来</span>
        <span class="token comment">#什么是单例</span>
        	一种常用的软件设计模式。通过单例模式的方法创建的类在当前进程中只有一个实例
__call__ ：对象加括号自动调用__call__方法     <span class="token comment">#应用场景flask请求上下文</span>
__enter__：
__exit__：
	a<span class="token punctuation">.</span> 做上下文管理的实例
		<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">def</span> <span class="token function">__enter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;xx.log&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> self<span class="token punctuation">.</span>x
            <span class="token keyword">def</span> <span class="token function">__exit__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> exc_type<span class="token punctuation">,</span> exc_val<span class="token punctuation">,</span> exc_tb<span class="token punctuation">)</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>x<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">with</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    		<span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;hello xmm&quot;</span><span class="token punctuation">)</span>
应用：执行某些任务，事先要设置，时候做清理。python中<span class="token keyword">with</span>语句提供方便处理方式<span class="token punctuation">(</span>触发__enter__，__exit__<span class="token punctuation">)</span>，比如文件操作中获取文件句柄。
        
        
__getitem__
__setitem__
__delitem__
	a<span class="token punctuation">.</span> 对象通过索引取值
		<span class="token keyword">class</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
			<span class="token keyword">def</span> <span class="token function">__setitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span>
				<span class="token keyword">pass</span>
				
		session <span class="token operator">=</span> HttpRequest<span class="token punctuation">(</span><span class="token punctuation">)</span>
		session<span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">123</span>	<span class="token comment">#内部调用__setitem__</span>
		session<span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">]</span>		<span class="token comment">#内部调用__getitem__</span>
		<span class="token keyword">del</span> session<span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">]</span>	<span class="token comment">#内部调用 __delitem__</span>
        <span class="token comment">#应用场景flask设置session</span>

__add__
	<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>other<span class="token punctuation">)</span><span class="token punctuation">:</span>
			<span class="token comment"># self就是obj1</span>
			<span class="token comment"># other就是obj2 </span>
			<span class="token keyword">return</span> <span class="token number">666</span>
		
	obj1 <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
	obj2 <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
	result <span class="token operator">=</span> obj1 <span class="token operator">+</span> obj2 
    
__exit__
__enter__
</code></pre></div></li> <li><p>简述TCP三次握手和四次挥</p> <div class="language- extra-class"><pre class="language-text"><code>三次握手：
客户端向服务端发起SYN链接请求
服务端得到请求，响应ACK同时还会再向客户端发起SYN链接请求
客户端对ACK进行回复，建立此链接

四次挥手：
1.服务端和客户端都有close操作，主动方发起close操作，都是一次fin断开请求
2.得到&quot;断开确认ACK&quot;之后，就可以结束一端的数据发送
3.如果两端都发起了close，那么就是2此请求和两次回复，一共四次操作。

四次挥手：
1.客户端A发送一个FIN，用来关闭客户端A到服务器B的数据传送。
2.服务器B收到这个FIN，它发回一个ACK，确认收到序号+1，和SYN一样，一个FIN将占用一个序号。
3.服务器B关闭于客户端A的连接，发送一个FIN给客户端A。
4.客户端A发回ACK报文确认，并将确认信号设置为收到序号加1

为什么建立连接协议时三次握手，而关闭连接却是四次挥手：
	这是因为服务端listen状态下socket收到SYN报文连接请求后，它把ACK和SYN（ACK起应答作用，SYN同步作用）放在一个报文里发送。
	但是关闭连接，当收到对方的FIN报文时，它仅仅表示对方没有数据发给你，并并不能保证你的所有数据全部发完给对方，待所有数据处理完毕，再发送FIN报文给对方表示可以关闭。所以FIN，ACK是分开发的

2）ACK：确认序号标志，为1时表示确认号有效，为0表示报文中不含确认信息，忽略确认号字段。
5）SYN：同步序号，用于建立连接过程，在连接请求中，SYN=1和ACK=0表示该数据段没有使用捎带的确认域，而连接应答捎带一个确认，即SYN=1和ACK=1。
6）FIN：finish标志，用于释放连接，为1时表示发送方已经没有数据发送了，即关闭本方数据流。
</code></pre></div></li> <li><p>OSI5层模型</p> <table><thead><tr><th>OSI五层协议</th> <th>协议</th> <th>物理设备</th></tr></thead> <tbody><tr><td>应用层</td> <td>http,https,ftp,smtp</td> <td></td></tr> <tr><td>传输层</td> <td>tcp/udp/端口</td> <td>四层路由器，四层交换机(解析端口)</td></tr> <tr><td>网络层</td> <td>ipv4/ipv6</td> <td>路由器(三层交换机)</td></tr> <tr><td>数据链路层</td> <td>mac地址，arp协议(通过ip找mac地址)</td> <td>网卡，交换机(二层交换机)</td></tr> <tr><td>物理层</td> <td>进制转换</td> <td>网线</td></tr></tbody></table></li> <li><p>TCP和UDP的区别？</p> <div class="language- extra-class"><pre class="language-text"><code>TCP：面向连接的可靠的流式传输，适合传输比较大的文件，对稳定性要求高
UDP：面向无连接的快速，但不可靠数报传输，适合传输对效率要求比较高的短消息。

可靠原因：三次握手双向机制，自带数据校验机制。
</code></pre></div></li> <li><p>什么是粘包？</p> <div class="language- extra-class"><pre class="language-text"><code>发送方拆包机制，接收方没有一次从缓冲区接收完
由于两端通信时，会经过计算机的缓存区，并且传输数据时是流式无边界，导致例如：A和B通信，A发送了2个数据包，B在接收时无法区分包，所以可能会获取错误。 
为了解决此显现，我们通过struct模块自定义数据内容： 头信息|数据.
</code></pre></div></li> <li><p>socket代码</p> <div class="language-python extra-class"><pre class="language-python"><code>TCP<span class="token punctuation">:</span>
    <span class="token comment">#客户端：</span>
    <span class="token keyword">import</span> socket
    connfd <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    connfd<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span><span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    connfd<span class="token punctuation">.</span>sendall<span class="token punctuation">(</span><span class="token string">b&quot;hello&quot;</span><span class="token punctuation">)</span>
    data <span class="token operator">=</span> connfd<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    connfd<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">#服务端：</span>
    <span class="token keyword">import</span> socket
    socketfd <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    socketfd<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span><span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    socketfd<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">,</span>addr <span class="token operator">=</span> socketfd<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
    recv <span class="token operator">=</span> conn<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>recv<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">.</span>send<span class="token punctuation">(</span>recv<span class="token punctuation">)</span>
    conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    socketfd<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
UDP：
    <span class="token comment">#客户端</span>
    <span class="token keyword">import</span> socket
    socketfd <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token builtin">type</span><span class="token operator">=</span>socket<span class="token punctuation">.</span>SOCK_DGRAM<span class="token punctuation">)</span>
    ADDR <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span><span class="token number">8888</span><span class="token punctuation">)</span>
    socketfd<span class="token punctuation">.</span>sendto<span class="token punctuation">(</span><span class="token string">b&quot;hello&quot;</span><span class="token punctuation">,</span>ADDR<span class="token punctuation">)</span>
    data<span class="token punctuation">,</span>addr <span class="token operator">=</span> socketfd<span class="token punctuation">.</span>recvfrom<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    socketfd<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">#服务端</span>
    <span class="token keyword">import</span> socket
    socketfd <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token builtin">type</span><span class="token operator">=</span>socket<span class="token punctuation">.</span>SOCK_DGRAM<span class="token punctuation">)</span>
    socketfd<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span><span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    data<span class="token punctuation">,</span>addr <span class="token operator">=</span> socketfd<span class="token punctuation">.</span>recvfrom<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    socketfd<span class="token punctuation">.</span>sendto<span class="token punctuation">(</span><span class="token string">b&quot;hello&quot;</span><span class="token punctuation">,</span>addr<span class="token punctuation">)</span>
    socketfd<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#客户端和服务端连接并发送一条消息，关闭。 </span>
</code></pre></div></li> <li><p>断点续传的实现思路？（很少问）</p> <div class="language- extra-class"><pre class="language-text"><code>传输方断开传输，接收方保存接收数据大小，比如存入文件
再次传输，传输放可以打开文件读取传输了的数据大小。
打开文件通过游标seek到已经传输数据位置。
继续传输，接收方通过a+打开文件写入

通过MD5校验文件一致性
</code></pre></div></li> <li><p>进程、线程、协程的区别？</p> <div class="language- extra-class"><pre class="language-text"><code>进程，计算机中资源分配的最小单元。 程序执行一次的过程，具有一定生命周期，计算机资源分配最小单位，进程创建，切换，销毁消耗资源较大，每个进程都有自己独立内存空间，不同进程通过进程间通信IPC。对于计算密集型任务可以采用进程，能利用多核。

线程，计算机中被cpu调度的最小单元。在CPython中由于GIL锁(全局解释器锁)，使一个CPU只能运行一个线程。它可以与同属一个进程的其他线程共享进程全部资源，线程通信主要是通过共享内存。

协程，又称为“微线程”，与进程、线程不同，进程线程是计算机中真实存在，协程是程序员级别人为创造出来的，它能够提高CPU的利用率，使操作系统对IO操作感知力更加灵敏，本质上通过一个线程实现并发的操作。 

一个进程中可以有多个线程、一个线程中有多个协程，他们都可以帮助我们完成并发操作，特殊协程只有遇到IO切换才有意义，否则效率反倒会降低。 
</code></pre></div></li> <li><p>GIL锁的作用？</p> <div class="language- extra-class"><pre class="language-text"><code>GIL，全局解释器锁。
	保证一个进程中同一时刻只有一个线程可以被CPU调度。
	GIL由来：当解释器为CPython解释器，对于python来说，同一时刻只能由一个线程被CPU访问，保证一个进程中同一时刻只有一个线程可以被CPU调度。彻底的解决了多核环境下的安全问题。

#计算密集型用多进程、IO密集型用多线程。
但是GIL锁并不会保护开发者自己编写代码这是因为同一时刻固然只能有一个Python线程执行，但是，当这个线程正在操作某个数据结构，其他线程可能会打断它，一旦发生这种现象，就会破坏程序的状态。从而使相关数据结构无法保持一致性。
可以在一定程度上保证数据安全：
	- 列表/字典在调用内部方法时，是线程安全。 
		v = []
		v.append(100)
        
    - 列表[0]  +=,-=,*=,/= 和  字典[key] +=,-=,*=,/= 线程不安全
	- 其他操作，如果想要让线程安全，需要自动通过Lock或RLock来实现。 
    
补充：在其他编程语言中没有GIL锁，这是CPython特有。 
</code></pre></div></li> <li><p>IO多路复用</p> <div class="language-python extra-class"><pre class="language-python"><code>操作系统提供的代理，帮助监听多个通信对象是否发生变化，一旦发生变化，就通知你，你只需要根据通知来接收相应的数据。只要任意一个对象有信息来，我就接收，本质就是对网络操作的监听机制。

监听多个IO对象是否发生变化（创建连接、收发数据）
select：最多监听<span class="token number">1024</span>个IO对象；轮询的方式检查。
	  将IO对象交给操作系统处理，随着监听IO对象越来越多，效率会越来越差，轮询时间会延迟。能够处理监听IO对象有限，超过<span class="token number">1024</span>个IO对象，就不能进行监听了。
  poll：不再限制IO对象的个数；也是轮询的方式检查。但底层数据结构优化。
  epoll<span class="token punctuation">:</span>不再限制IO对象的个数；不采用轮询，通过回调的方式进行检查。 一旦数据来了，立刻就去调用函数让函数去通知是哪个对象的数据来了。

示例：
    s1 <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    s1<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">.8001</span><span class="token punctuation">)</span>
    s1<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

    conn<span class="token punctuation">,</span>addr <span class="token operator">=</span> s1<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
    s2 <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    s2<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">.8002</span><span class="token punctuation">)</span>
    s2<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

    conn<span class="token punctuation">,</span>addr <span class="token operator">=</span> s2<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
    
	s1 <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    s1<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">.8001</span><span class="token punctuation">)</span>
    s1<span class="token punctuation">.</span>setBlockint<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    s1<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">,</span>addr <span class="token operator">=</span> s1<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
    s2 <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    s2<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">.8002</span><span class="token punctuation">)</span>
    s2<span class="token punctuation">.</span>setBlockint<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    s2<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">,</span>addr <span class="token operator">=</span> s2<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
    s1 <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    s1<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">.8001</span><span class="token punctuation">)</span>
    s1<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    s2 <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    s2<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">.8002</span><span class="token punctuation">)</span>
    s2<span class="token punctuation">.</span>setBlockint<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    s2<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
	<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    	rlist<span class="token punctuation">,</span>wlist<span class="token punctuation">,</span>elist <span class="token operator">=</span> select<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token punctuation">[</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0.05</span><span class="token punctuation">)</span>
    	<span class="token keyword">for</span> s <span class="token keyword">in</span> rlist<span class="token punctuation">:</span>
    		conn<span class="token punctuation">,</span>addr <span class="token operator">=</span> s<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>事务的特性</p> <div class="language- extra-class"><pre class="language-text"><code>原子性：
	指事务是不可分割工作单位，事务中的操作要么发生，要么都不发生。
一致性：
	事务前后数据完整性必须保持一致。
隔离性：
	多个用户并发访问数据，彼此之间操作互不干扰，相互隔离
持久性：
	事务一旦被提交，数据库中数据改变时永久性的。数据库发生故障也不应该对其有任何影响。
</code></pre></div></li> <li><p>inner join和left join的区别？</p> <div class="language- extra-class"><pre class="language-text"><code>left join,right join 多表连接查询中外连接方式

inner join 内连接方式
left join:左连接，优先显示左边表中全部记录
right join:右连接，优先显示右边表中全部记录
inner join 内连接，显示两张表条件匹配的项

部门表
id title
1 IT
2 销售
3 运营

用户表：
id name depart_id
1 王志勇 1

select 用户表.id,部门表.name,部门表.title from 用户表 left join 部门表 on 用户表.depart_id = 部门表.id 

select 用户表.id,部门表.name,部门表.title from 部门表 left join 用户表 on 用户表.depart_id = 部门表.id 

select 用户表.id,部门表.name,部门表.title from 用户表 inner join 部门表 on 用户表.depart_id = 部门表.id 

select 用户表.id,部门表.name,部门表.title from 部门表 inner join 用户表 on 用户表.depart_id = 部门表.id 
</code></pre></div></li> <li><p>char和varchar的区别？</p> <div class="language- extra-class"><pre class="language-text"><code>char:定长，所谓定长是数据长度小于固定长度，Mysql就会它的右侧用空格字符不足。查询效率高，一般用于固定长度的表单提交数据存储，如身份证，电话

varchar:不定长，效率偏低。处理速度比char慢，但占用空间少。非空varchar，5.0以上版本支持65535字节长度，如数据长度超过定义长度，非严格模式下会截断，严格模式下会报错。
</code></pre></div></li> <li><p>联合索引如何命中索引？</p> <div class="language- extra-class"><pre class="language-text"><code>遵循最左前缀原则。：
	最左优先，以最左边的为起点任何连续的索引都能匹配上
例如：（a,b,c）,以下哪种情况可以命中：
命中索引：
    (a)
    (a,b)
    (a,b,c)
    (a,c)
不命中索引：
    (b,c)
    (c)
    (b)
#遵循最左前缀原则
</code></pre></div></li> <li><p>mysqldump导入导出（笔试题）</p> <div class="language- extra-class"><pre class="language-text"><code>mysqldump

# 只导出表结构   mysqldump -h localhost -uroot -p123456  -d database &gt; dump.sql
create table User(.....)


# 导出表结构+数据  mysqldump -h localhost -uroot -p123456  database &gt; dump.sql
create table User(.....)
insert into User(...)
insert into User(...)
insert into User(...)
insert into User(...)

数据恢复：
	mysql &gt; source D:\\code\book.sql 
</code></pre></div></li> <li><p>数据库优化方案</p> <div class="language- extra-class"><pre class="language-text"><code>1数据库读写分离（读写分离，主从复制）
2做缓存（redis、memcached）
3分库分表 （分库：常用字段）  分表 （垂直分表，水平分表）
4使用索引&amp;命中索引
5设计表结构时，把定长的列放在前后，变长的列放在后面。 
6有些数据放在内存，不要做连表查询（choices)
	基于数据：
		性别表
			id  title
			1   男
			2   女
		用户表
			id  name gender_id
			 1  王志勇   1 
	基于内存：
		用户表
			id  name gender_id
			 1  王志勇   1 
		代码中：
			(
				(1,'男'),
				(2,'女')
			)
当表中关系混乱考虑到纵向切表
	比如自关联较多，可以拆分成主外键方式
当数据量多，数据量过多，可以考虑横向分表。
	比如说以200万条数据为一个节点，当一个表存入数据到达200万，我就再建个表对已经存满200万条数据表（后期不做改动，意思只做查操作），我们可以放在ES里。（当我就想使用模糊查like,时候可以使用ES）
	当数据量过大，横向拆表。可以增加查询数据速度。
</code></pre></div></li> <li><p>创建索引就应该命中索引，有哪些情况无法命中？</p> <div class="language- extra-class"><pre class="language-text"><code>- like
- 函数


- like '%xx'
    select * from tb1 where name like '%cn';
- 查询条件中使用函数
    select * from tb1 where reverse(name) = 'wu';
- or ：or条件中有未建立索引的列才会失效。
    select * from tb1 where nid = 1 or email = 'seven@live.com';
    特别的：当or条件中有未建立索引的列才失效，以下会走索引
            select * from tb1 where nid = 1 or name = 'seven';
            select * from tb1 where nid = 1 or email = 'seven@live.com' and name = 'alex'
- 类型不一致
    如果列是字符串类型，传入条件是必须用引号引起来，不然...
    select * from tb1 where name = 999;
- !=
    select * from tb1 where name != 'alex'
    特别的：如果是主键，则还是会走索引
        select * from tb1 where nid != 123
- &gt;
    select * from tb1 where name &gt; 'alex'
    特别的：如果是主键或索引是整数类型，则还是会走索引
        select * from tb1 where nid &gt; 123
        select * from tb1 where num &gt; 123
- order by
    select email from tb1 order by name desc;
    当根据索引排序时候，选择的映射如果不是索引，则不走索引
    特别的：如果对主键排序，则还是走索引：
        select * from tb1 order by nid desc;
 
- 组合索引最左前缀
    如果组合索引为：(name,email)
    name and email       -- 使用索引
    name                 -- 使用索引
    email                -- 不使用索引

- 索引列参与计算无法命中  id*10
</code></pre></div></li> <li><p>MySQL慢日志</p> <div class="language- extra-class"><pre class="language-text"><code>MySQL提供一种日志记录，它用来记录MySQL中响应时间超过阈值的语句，运行时间超过long_query_time值，会被记录到慢日志中。比如：
	1.执行比较慢的SQL语句
	2.使用索引，而未命中索引或未使用最优索引的所有SQL。
慢日志分析工具：
	官方自带工具:mysqldumpslow
	开源工具：mysqlsla
	用Perl语言实现
</code></pre></div></li> <li><p>请简述sq1注入的攻击原理及如何在代码层面防止sql注入?</p> <div class="language- extra-class"><pre class="language-text"><code>通过SQL命令插入到web表单递交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意SQL命令。

防止SQL注入：
	1.对用户输入，进行校验。可以使用正则表达式。
	2.不要使用动态拼装SQL语句，可以使用参数化的sql或者直接使用
	3.不要使用管理员权限的数据库连接
	4.不要把机密信息铭文存放，如密码要加密
	5.应用异常信息应该给出尽可能少提示。最好使用自定义错误信息对原始信息进行包装。


mysql&gt; select count(1) from userinfo where name=&quot;root&quot; ;-- and pwd = &quot;123121232342&quot;;

select count(1) from user where name = &quot;%s&quot; and pwd = &quot;%s&quot;
select count(1) from user where name = &quot;alex&quot; and pwd = &quot;123&quot;
select count(1) from user where name = &quot;alex&quot; or 1==1  -- &quot; and pwd = &quot;123&quot;


如何防止SQL注入：
	- 正则
	- pymysql
		cursor.execute(&quot;select count(1) from user where name = &quot;%s&quot; and pwd = &quot;%s&quot;&quot;,['alex','123'])
	- ORM
</code></pre></div></li> <li><p>review代码能做什么？</p> <div class="language- extra-class"><pre class="language-text"><code>1、整体代码风格是否贴切已有框架的设计风格
　　一个系统本有一套体系，你就不按这个走？前人踏过无数的坑，你就要去踩？

2、注释
　　别人问，这定义的什么？回答：忘了
　　别人问，这个是干嘛的？回答：忘了
　　！！！！！！

3、入参的定义，出参定义（特别是枚举）
　　考虑某个入参是否以前已有定义？是否其他系统已有定义？是否数据库已有定义？
　　本部门内各系统，同一含义的参数最好（应该强制）都统一，不然系统与系统之间交互要转来转去，与数据库交互要转来转去。

4、日志打印
　　a、前端入参、或接受其他系统调用的入参必须打印；
　　b、调用依赖服务入参、出参必须打印；
　　c、捕获的未处理异常堆栈信息必须打印；
　　d、捕获的处理异常打印的信息必须明确问题所在；
　　e、日志级别得明确

5、异常处理
　　a、异常类型定义必须明确，不能一股脑抛系统异常；
　　b、调用第三方服务，最好单独包一层try catch（不单单是整个外部方法的异常捕获）；
　　c、。。。。。。

6、埋点统计
　　我要用户访问量！
　　我要异常访问量！
　　我要今天多少用户干嘛干嘛的量！

7、报警机制
　　调用第三方出问题了，自己不知道；
　　别人要服务大概响应时间，自己不知道；
　　自己服务有问题了，自己不知道；
　　多么尴尬的事！

8、业务实现
　　a、了解清楚需求了吗？
　　b、这设计方案讲得通吗？
　　c、依赖服务文档看没？
　　d、联调过没？交互流数据确定过没？
　　e、在什么环境联调？本地也叫联调？
　　f、表设计合理？索引创建合理？
　　g、增删改sql没问题？
　　h、简单的参数check完善？
　　i、完全信赖别人的传入？
　　j、穿插的不是很重要的消息推送做了无伤大雅处理？
　　k、能异步处理的开了新线程？开的新线程有效？
　　l、　。。。。。。

</code></pre></div></li> <li><p>redis五大数据类型</p> <div class="language- extra-class"><pre class="language-text"><code>字符串
列表
哈希
集合
有序集合
</code></pre></div></li> <li><p>redis和memcached区别？</p> <div class="language- extra-class"><pre class="language-text"><code>redis和memcache都是将数据存放在内存中。
数据类型：redis不仅仅支持简单K/V类型数据，同时支持列表，哈希，集合，有序集合，memcached有一种数据类型，但可以用于缓存图片  ，视频等。
持久化存储：redis支持数据持久化，可以将内存中数据保持在磁盘中。重启后可再次加载 ，memcached不支持

高可用性：redis支持  通过哨兵，memcached不支持
分布式集群：redis支持cluster,memcached  利用magent做一主多从

redis在很多方面具备数据库特性，memcached只是简单k/v缓存。
</code></pre></div></li> <li><p>redis 有哪几种持续化策略及比较</p> <div class="language- extra-class"><pre class="language-text"><code>RDB 持久化可以在指定时间间隔内生成数据集的时间点快照。
	白话：基于快照做持久化，速度快，定期对redis中数据进行备份
	
AOF：持久化记录服务器执行的所有写操作命令，并在服务器启动时，通过重新执行这些命令还原数据集。
	白话：基于日志做持久化，保证数据完整，即：记录所有执行的命令，恢复时所有命令执行一遍。

#RDB优点：
	1.设置备份RDB文件，这样遇上问题，也可以随时将数据集还原到不同版本。
	2.在恢复大数据集时，速度比AOF恢复的快。
#RDB缺点：
	1.因设置保存RDB文件频率，一旦发生故障停机，你可能丢失掉几分钟的数据。

AOF优点：
	1.AOF文件基于日志追加操作，写入不需要进行seek.
	2.当AOF文件体积变得过大，自动地在后台对AOF进行重写，重写后的新AOF文件包含了恢复当前数据集所需最小命令集合。

AOF缺点：
	1.处理大文件写入载入时，AOF无法保证最大延迟。

AOF:基于日志做的持久化，保证数据的完整性。即：记录所有执行的命令，恢复时将所有命令执行一遍。
RBD:基于快照做的持久化，速度快。即：定期对redis中的数据进行备份。
</code></pre></div></li> <li><p>redis过期策略</p> <div class="language- extra-class"><pre class="language-text"><code>当redis 内存数据集大小上升到一定大小的时候，就会施行数据淘汰策略。redis 提供 6种数据淘汰策略：

voltile-lru：从已设置过期时间的数据集（server.db[i].expires）中挑选最近最少使用的数据淘汰
volatile-ttl：从已设置过期时间的数据集（server.db[i].expires）中挑选将要过期的数据淘汰
volatile-random：从已设置过期时间的数据集（server.db[i].expires）中任意选择数据淘汰
allkeys-lru：从数据集（server.db[i].dict）中挑选最近最少使用的数据淘汰
allkeys-random：从数据集（server.db[i].dict）中任意选择数据淘汰
no-enviction（驱逐）：禁止驱逐数据
noeviction ： 永不过期，返回错误  

三种过期策略：
	定期删除，惰性删除，定时删除
1.定时删除：在设置key的过期时间的同时，为该key创建一个定时器。让定时器在key的过期时间来临时对key进行删除。
2.惰性删除：key过期时候不删除，每次从数据库获取key的时候去检查是否过期，若过期。则删除返回null
3.定期删除：每隔一段时间执行一次删除过期key操作。
</code></pre></div></li> <li><p>什么是响应式布局？</p> <div class="language- extra-class"><pre class="language-text"><code>根据用户设备不同，显示不同效果，内部使用了 @media属性实现。

实现方式：
	采用bootstrap布局，内部使用@media属性实现
	
其他实现：
	原生代码实现
	还有其他方式，如JQuery和专门做响应式JS文件
</code></pre></div></li> <li><p>发送ajax请求</p> <div class="language-js extra-class"><pre class="language-js"><code>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	url<span class="token operator">:</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span>
	type<span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
	data<span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;xk&quot;</span><span class="token punctuation">}</span>
	dataType<span class="token operator">:</span><span class="token string">&quot;json&quot;</span>
	<span class="token function-variable function">sucess</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	url<span class="token operator">:</span><span class="token string">'...'</span><span class="token punctuation">,</span>
	type<span class="token operator">:</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
	data<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	dataType<span class="token operator">:</span><span class="token string">&quot;JSON&quot;</span><span class="token punctuation">,</span>
	success<span class="token operator">:</span><span class="token function">funtion</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>JavaScript与this相关的面试题</p> <div class="language-js extra-class"><pre class="language-js"><code>name <span class="token operator">=</span> <span class="token string">'alex'</span>

<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//alex   全局作用域的name</span>

<span class="token comment">// 自执行函数</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//123</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>

name <span class="token operator">=</span> <span class="token string">'老男孩'</span><span class="token punctuation">;</span>
info <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span><span class="token string">'alex'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">,</span>
	<span class="token function-variable function">func</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

info<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 打印 alex  info调用func函数</span>
</code></pre></div></li> <li><p>“同源策略”、跨域、 jsonp、cors ?</p> <div class="language- extra-class"><pre class="language-text"><code>浏览器具有“同源策略”，即：浏览器只能向当前所在的域发送Ajax，如果向其他域发送请求，则浏览器就会报错。 (触发同源策略:1.发ajax请求,2.存在跨域)
跨域会报错，因为浏览器具有浏览器具有同源策略。 但是，同源策略不对script标签中的src属性限制。

如能才能跳过浏览器的同源策略，让我们向别的域可以发送ajax请求并获取结果？

方法1主流：cors一个解决跨域的方案（设置响应头）：
response['Access-Control-Allow-Origin'] = &quot;*&quot;

方法2：jsonp一个解决跨域的方案，是一种巧妙的机制，可以绕过浏览器的同源策略，实现跨域（动态创建script标签）。
	前端：触发点击事件执行函数
	1.创建script标签:
	var tag = document.createElement('script');
	2.添加src属性：
	tag.src = 'http://127.0.0.1:9000/api/?callback=f1';
	#设置“callback=f1”，其他域的视图函数处理获取f1,返回HttpResponse('f1(&quot;信息&quot;)')
	3.将该标签添加html页面上
	document.head.appendChild(tag);
	4.删除标签
	document.head.removeChild(tag);
	5.前端定义f1函数，接收参数，渲染页面
	
#注意：jsonp只能发get请求,局限性

#扩展：域名、端口、二级域名不同都会引发跨域。
</code></pre></div></li> <li><p>函数编程和面向对象的理解</p> <div class="language- extra-class"><pre class="language-text"><code>函数式编程：相比面向过程编程将代码逻辑封装在函数中，提高代码重用性，函数本身保持独立，与外部交互只有传入的参数和返回值。

而面向对象：
	是将多个函数（方法）封装在一个类中。通过实例化类，来调用它内部的方法。
	
python中面向对象有三大特性：继承，封装和多态
继承：
	python中可以继承方式，在自己类可以调用父类的方法。这样减少代码重复性。python中类可以继承多个类

封装：
	每个类都封装多种方法，代码格式清晰。
多态：
	python默认支持多种形态，所以没有特殊性，python对于参数类型不会限制，那么传入参数可以是各种类型。只要能实现该方法就行。
</code></pre></div></li> <li><p>python中如何约束某个类必须有哪几个方法</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#抽象类是一个特殊类，只能被继承不能实例化。</span>
<span class="token comment">#方式1：</span>
<span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token string">&quot;错误&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span>K<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">pass</span>

demo <span class="token operator">=</span> Demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
demo<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#方式2  通过abc模块定义约束类</span>
<span class="token keyword">import</span> abc
<span class="token keyword">class</span> <span class="token class-name">Base</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    __metaclass__ <span class="token operator">=</span> abc<span class="token punctuation">.</span>ABCMeta

    <span class="token decorator annotation punctuation">@abc<span class="token punctuation">.</span>abstractproperty</span>
    <span class="token keyword">def</span> <span class="token function">value</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'你需要定义value方法'</span>

<span class="token keyword">class</span> <span class="token class-name">Implementation</span><span class="token punctuation">(</span>Base<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">value</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'我定义了value方法了'</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    b <span class="token operator">=</span> Base<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Base.value:'</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> err<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ERROR:'</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>

i <span class="token operator">=</span> Implementation<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Implementation.value:'</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token comment">#Base.value: 你需要定义value方法</span>
<span class="token comment">#Implementation.value: 我定义了value方法了</span>
</code></pre></div></li> <li><p>协程在什么情况下执行效率低</p> <div class="language- extra-class"><pre class="language-text"><code>协程是操作系统不可见的，协程其实本质是把所有任务的IO操作都规避，从而提高CPU利用率。
优点：
	1.无需线程上下文切换的开销
	2.高并发+高扩展性+低成本：一个CPU支持上万的协程都不是问题。所以很适合用于高并发处理。

	无法利用多核资源：协程的本质是个单线程,它不能同时将单个CPU 的多个核用上,协程需要和进程配合才能运行在多CPU上.当然我们日常所编写的绝大部分应用都没有这个必要，除非是cpu密集型应用。
	
	在发生文件IO操作,协程执行效率会低
	在发生计算密集型操作,协程会失效
</code></pre></div></li> <li><p>redis分布式锁</p> <div class="language- extra-class"><pre class="language-text"><code>redis-lock

redis为保证方法或属性在高并发情况下同一时刻只能被一个线程执行
https://www.cnblogs.com/angelyan/p/11523846.html#_label1

#使用的命令：
	SETNX key val：当且仅当key不存在时，set一个key为val的字符串，返回1；若key存在，则什么都不做，返回0。

实现思想：
（1）获取锁的时候，使用setnx加锁，并使用expire命令为锁添加一个超时时间，超过该时间则自动释放锁，锁的value值为一个随机生成的UUID，通过此在释放锁的时候进行判断。
（2）获取锁的时候还设置一个获取的超时时间，若超过这个时间则放弃获取锁。
（3）释放锁的时候，通过UUID判断是不是该锁，若是该锁，则执行delete进行锁释放。
</code></pre></div><p>代码实现</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#连接redis</span>
<span class="token keyword">import</span> time
<span class="token keyword">import</span> uuid
<span class="token keyword">from</span> threading <span class="token keyword">import</span> Thread

<span class="token keyword">import</span> redis

redis_client <span class="token operator">=</span> redis<span class="token punctuation">.</span>Redis<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
                           port<span class="token operator">=</span><span class="token number">6379</span><span class="token punctuation">,</span>
                           <span class="token comment"># password=123,</span>
                           db<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>

<span class="token comment">#获取一个锁</span>
<span class="token comment"># lock_name：锁定名称</span>
<span class="token comment"># acquire_time: 客户端等待获取锁的时间</span>
<span class="token comment"># time_out: 锁的超时时间</span>
<span class="token keyword">def</span> <span class="token function">acquire_lock</span><span class="token punctuation">(</span>lock_name<span class="token punctuation">,</span> acquire_time<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> time_out<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;获取一个分布式锁&quot;&quot;&quot;</span>
    identifier <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    end <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> acquire_time
    lock <span class="token operator">=</span> <span class="token string">&quot;string:lock:&quot;</span> <span class="token operator">+</span> lock_name
    <span class="token keyword">while</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> end<span class="token punctuation">:</span>
        <span class="token keyword">if</span> redis_client<span class="token punctuation">.</span>setnx<span class="token punctuation">(</span>lock<span class="token punctuation">,</span> identifier<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 给锁设置超时时间, 防止进程崩溃导致其他进程无法获取锁</span>
            redis_client<span class="token punctuation">.</span>expire<span class="token punctuation">(</span>lock<span class="token punctuation">,</span> time_out<span class="token punctuation">)</span>
            <span class="token keyword">return</span> identifier
        <span class="token keyword">elif</span> <span class="token keyword">not</span> redis_client<span class="token punctuation">.</span>ttl<span class="token punctuation">(</span>lock<span class="token punctuation">)</span><span class="token punctuation">:</span>
            redis_client<span class="token punctuation">.</span>expire<span class="token punctuation">(</span>lock<span class="token punctuation">,</span> time_out<span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.001</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token comment">#释放一个锁</span>
<span class="token keyword">def</span> <span class="token function">release_lock</span><span class="token punctuation">(</span>lock_name<span class="token punctuation">,</span> identifier<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;通用的锁释放函数&quot;&quot;&quot;</span>
    lock <span class="token operator">=</span> <span class="token string">&quot;string:lock:&quot;</span> <span class="token operator">+</span> lock_name
    pip <span class="token operator">=</span> redis_client<span class="token punctuation">.</span>pipeline<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            pip<span class="token punctuation">.</span>watch<span class="token punctuation">(</span>lock<span class="token punctuation">)</span>
            lock_value <span class="token operator">=</span> redis_client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>lock<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> lock_value<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">True</span>

            <span class="token keyword">if</span> lock_value<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> identifier<span class="token punctuation">:</span>
                pip<span class="token punctuation">.</span>multi<span class="token punctuation">(</span><span class="token punctuation">)</span>
                pip<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>lock<span class="token punctuation">)</span>
                pip<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">True</span>
            pip<span class="token punctuation">.</span>unwatch<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        <span class="token keyword">except</span> redis<span class="token punctuation">.</span>excetions<span class="token punctuation">.</span>WacthcError<span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>
  
  
count<span class="token operator">=</span><span class="token number">10</span>
<span class="token keyword">def</span> <span class="token function">seckill</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
    identifier<span class="token operator">=</span>acquire_lock<span class="token punctuation">(</span><span class="token string">'resource'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;线程:{}--获得了锁&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">global</span> count
    <span class="token keyword">if</span> count<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;线程:{}--没抢到，票抢完了&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    count<span class="token operator">-=</span><span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;线程:{}--抢到一张票，还剩{}张票&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span>
    release_lock<span class="token punctuation">(</span><span class="token string">'resource'</span><span class="token punctuation">,</span>identifier<span class="token punctuation">)</span>


<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    t <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>seckill<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>什么是Wsgi</p> <div class="language- extra-class"><pre class="language-text"><code>	Wsgi是Web服务器网关接口
	wsgi是说在做Web应用的时候，需要去处理HTTP请求、响应。但是我们不会自己去实现这些底层的东西，而希望专注于业务代码的撰写。因此，需要一个统一的接口，它来帮我们处理http相关的协议，这个接口就是wsgi。
</code></pre></div></li> <li><p>django CBV函数设置添加装饰器</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>decorators <span class="token keyword">import</span> method_decorator
<span class="token number">1</span><span class="token punctuation">.</span>直接在类上添加
<span class="token decorator annotation punctuation">@method_decorator</span><span class="token punctuation">(</span>装饰器函数，name<span class="token operator">=</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">)</span>
<span class="token number">2</span><span class="token punctuation">.</span>加在方法上
<span class="token decorator annotation punctuation">@method_decorator</span><span class="token punctuation">(</span>装饰函数<span class="token punctuation">)</span>
<span class="token number">3</span><span class="token punctuation">.</span>重写dispath方法，在这个方法上面添加
<span class="token keyword">def</span> dispatch
</code></pre></div></li> <li><p>django信号的作用</p> <div class="language- extra-class"><pre class="language-text"><code>1.信号在请求周期内都可以定义，用于在框架执行操作时解耦.
一些动作发生的时候,系统会触发信号；从而回调函数执行相应的操作
	django中信号定义也特别多：
		pre_save    model对象保存前，自动触发
		post_save   model对象保存后，自动触发
		pre_init	model执行构造方法前，自动触发
		requet_started    请求到来前，自动触发
2.应用：
	比如操作数据库定义prev_save信号，会进行日志的记录
3.信号用法：
	__init__定义信号
	装饰器方式定义信号
</code></pre></div></li> <li><p>数据库分表分库</p> <div class="language- extra-class"><pre class="language-text"><code>1）数据库分表    
	把一张表按照一定的规则分解成不同的实体表。比如垂直划分和水平划分 垂直切分：把不同功能，不同模块的数据分别放到不同的表中，但是如果同一个模块的数据量太大就会存在性能瓶颈水平切分：垂直切分解决不了大表的瓶颈，如果同一个功能中表的数据量过大，就要对该表进行切分，为水平切分
    通俗理解：垂直切分---分不同的模块表；水平切分---分同一个模块下的多个表
2）分库 将一堆数据放到不同的数据库中保存，上面说的都是在同一个数据库上，分库是分到不同的数据库上
https://www.jianshu.com/p/00bebc1c8441

#https://www.cnblogs.com/butterfly100/p/9034281.html
#分库分表之垂直分库，分表：
	垂直切分常有垂直分库和垂直分表两种：
		垂直分库，就是根据业务耦合性，将关联度低的不同表存储在不同的数据库。做法按照业务分类进行独立划分，与微服务治理的做法相似。每个微服务使用单独的一个数据。#此时引入微服务，如若问道可对微服务概念进行简单阐述
        垂直分表：基于数据库表中&quot;列&quot;进行，例如某个表中字段比较多，可以新建一张扩展表，将不经常用或字段长度较大的字段拆分出去到扩展表中，通过“大表拆小表”，更便于开发维护，也可避免跨页问题（因为MySQL底层是通过数据页存储的，一条记录占用空间过大会导致跨页，造成额外性能开销），额外数据库以行为单位将数据加载到内存中，这样表中字段长度短，内存能加载更多的数据，命中率更高，减少磁盘IO，从而提升了数据库性能。
        垂直切分优点：
        	1.解决业务系统层面耦合，业务逻辑清晰
            2.高并发场景下，垂直切分一定程度减少IO，数据库连接数，单机硬件资源瓶颈。
        垂直切分缺点：
        	1.部分表无法join,只能通过接口集合方式解决，提升开发复杂度
            2.分布式事务处理复杂
            3.依然存在单表数量过大问题
 #分库分表之水平切分：
	当然垂直切分，无法解决数据行数巨大，单库读写，存储性能瓶颈，此时进行水平切分。
    水平切分其实就是将同一个表按不同的条件分散到多个数据库或多个表中，每个表中包含部分数据，从而使得单个表的数据变小，达到分布式效果。
    	水平切分优点：
        	1.不存在单库数据量过大，高并发性能瓶颈，提升系统稳定性和负载能力。
            2.应用端改造较小，不需要拆分业务模块
        缺点：
        	1.跨分片的事务一致性难保证
            2.跨库的join关联查询性能差
            3.数据多次扩展难度和维护量大
#分库分表带来问题：
1.事务一致性问题。
	解决问题：一般用&quot;XA&quot;协议和&quot;两阶段提交&quot;处理
2.跨节点关联查询join问题。
	解决问题：若系统中所有模块都依赖的一些表，将这类表在每个库都保存一份。
3.跨节点分页，排序，函数问题。
	排序：order by排序等问题，在不同分片节点中将数据排序并返回，然后将不同分片返回的结果集进行汇总再排序，最终返回给用户。
4.全局主键避重问题。
	UUID
5.数据迁移，扩容问题。
</code></pre></div></li> <li><p>简述触发器.函数.视图,存储过程</p> <div class="language-python extra-class"><pre class="language-python"><code>视图：
	<span class="token comment">#是一个虚拟表(只包含表结构)，其本质是根据SQL语句获取动态的数据集，并为其命名。用户使用只需使用名称即可获取结果集。</span>
触发器：
	<span class="token comment">#用于监听某种事件，并触发相应操作，比如对表操作inser,delete,update等。</span>
函数：
	<span class="token comment">#mysql内置很多函数，max,count,min,sum,avg等。还可以自定义函数创建语法：</span>
    create function 函数名称<span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span>
存储过程：
	<span class="token comment">#事先编译并存储在数据库中一段SQL语句集合，调用存储过程简化开发人员很多工作，减少数据库和应用服务器之间传输。</span>


	触发器（trigger）：监视某种情况，并触发某种操作，它是提供给程序员和数据分析员来保证数据完整性的一种方法，它是与表事件相关的特殊的存储过程，它的执行不是由程序调用，也不是手工启动，而是由事件来触发，例如当对一个表进行操作（ insert，delete， update）时就会激活它执行。
</code></pre></div></li> <li><p>存储过程</p> <div class="language- extra-class"><pre class="language-text"><code>#存储过程：
	数据库sql语句进行预编译，定义一个名字，存储在文件中。当使用调用它的名字便可以执行sql语句。
#三种格式 
		#in类型，只能传入值
         #out类型， 传了一个变量，给赋值
         #inout类型， 有in 和out特性

#也可以进行传参：
            #in类型，只能传入
           #out类型， 传了一个变量，给赋值
           #inout类型， 有in 和out特性
</code></pre></div></li> <li><p>redis主从同步原理</p> <div class="language- extra-class"><pre class="language-text"><code>1. 从服务器向主服务器发送 SYNC 命令。
2. 接到 SYNC 命令的主服务器会调用BGSAVE 命令，创建一个 RDB 文件，并使用缓冲区记录接下来执行的所有写命令。
3. 当主服务器执行完 BGSAVE 命令时，它会向从服务器发送 RDB 文件，而从服务器则会接收并载入这个文件。
4. 主服务器将缓冲区储存的所有写命令发送给从服务器执行。
</code></pre></div></li> <li><p>进程之间如何实现数据共享</p> <div class="language- extra-class"><pre class="language-text"><code>进程之间相互独立，任何一个进程全局变量在另一个进程中都看不到，所以进程和进程之间不能相互访问，要交换数据必须通过内核，在内核开辟缓冲区

1.管道/匿名管道
	在内存中开辟管道空间，生成管道操作对象，多个进程使用同一个管道对象进行操作即可实现通信。
2.FIFO命名管道
3.消息队列
	Queue：遵循先进先出（数据安全），存储基于pickle
4.信号：
	是Linux系统进程通信机制，异步方式通信，信号可以在任何时候发送，如果接受的进程未执行，信号在内核保存起来。
	#信号是Linux系统进程互相通信或者操作一种机制，信号可以在任何时候发给某一进程，而无需知道该进程状态。
    #如果该进程当前并未出于执行状态，则该信号就有内核保存起来，直到进程回复执行并传递给它为止。
    #如果一个信号被进程设置为阻塞，则该信号的传递被延迟，直到其阻塞被取消是才被传递给进程。
    &quot;&quot;&quot;
    信号可以发送给某个进程。
    如果该进行未运行，信号内核中进行保存。
    
    &quot;&quot;&quot;
5.共享内存
6.网络Socket

#信号量：是一个计数器，可以控制多个进程对共享资源访问，它常用做一种锁机制，防止某进程正在访问共享资源时，其他进程也访问该资源
</code></pre></div></li> <li><p>redis如何完成高可用</p> <div class="language- extra-class"><pre class="language-text"><code>Redis中的哨兵作用：
	1.监控redis是否运行良好。
	2.如果某个节点出现问题，通知其他进程
	3.自动故障转移。如master节点宕机，从slave选一个新的master,高正高可用。

sentinel(哨兵)分布式特性：
	单个sentinel进程，如果这个进程运行出错。将无法主备切换。
	如果有多个sentinel,即使挂掉几个sentinel进程，也不影响主备切换
</code></pre></div></li> <li><p>having应用场景</p> <div class="language- extra-class"><pre class="language-text"><code>having是在进行连表查询，进一步数据进行筛选，而且having不同where，having可以放伪字段（如聚合函数），而where只能放数据库存在字段。having会跟group by分组一起使用
</code></pre></div></li> <li><p>TCP和UDP应用场景</p> <div class="language- extra-class"><pre class="language-text"><code>UDP应用即时通讯，要求速度快，在线视频，网络语音
TCP用于文件传输，接收邮件
</code></pre></div></li> <li><p>什么是轮询和长轮询</p> <div class="language- extra-class"><pre class="language-text"><code>轮询：客户端定时向服务端发送ajax请求，服务端接到请求后马上返回响应信息并关闭连接浪费带宽和服务器资源。
	
长轮询：客户端向服务端发送ajax请求，服务器端收到请求后保持住连接，直到有新消息才返回响应信息并关闭连接，客户端在处理请求返回信息后再次发出请求，重新建立连接，缺点是：服务器保持连接会消耗较多资源。

websocket:是HTML5新增协议。它的目的在浏览器和服务器之间建立一个不受限的双向通信。websocket连接必须由浏览器发起，必须利用HTTP协议来建立连接
</code></pre></div></li> <li><p>什么是websocket?</p> <div class="language- extra-class"><pre class="language-text"><code>WebSocket是HTML5开始提供一种在单个TCP连接上进行全双工通讯的协议。

WebSocket使得客户端和服务端之间数据交换变得更加简单，允许服务端主动向客户端推送数据，浏览器和服务器只需要完成一次握手，两者之间就直接可以创建持久性连接。并进行双向数据传输。

浏览器通过JavaScript 向服务器发出建立WevSocket连接的请求，连接建立以后，客户端和服务端就可以通过TCP连接直接交换数据。
</code></pre></div></li> <li><p>什么是事务，知道乐观锁，悲观锁？说一下二者应用场景和区别</p> <div class="language- extra-class"><pre class="language-text"><code>	事务是数据库操作最小工作单元，事务具有四大特性。
	原子性，一致性，隔离性，持久性。
	
	乐观锁：一般读的操作比较多，每次去拿数据的时候都认为别人不会修改
	悲观锁：一般写的操作比较多，表示每次拿数据的时候都认为别人会修改，所以每次在拿数据时候都会上锁。这样别人想拿这个数据就会阻塞。for_update 是悲观锁一种 for update
</code></pre></div></li> <li><p>Linux命令怎么查看进程占用CPU与内存</p> <div class="language- extra-class"><pre class="language-text"><code>top 查看系统CPU，内存，硬盘负载。
ps  查看进程资源占用iotop看磁盘
free  看内存
netstat 看网络状态
</code></pre></div></li> <li><p>python垃圾回收机制</p> <div class="language- extra-class"><pre class="language-text"><code>以引用计数为主，标记清除和分代回收为辅

#引用计数：
	name = &quot;xjk&quot; 此时内存中创建字符串对象。该对象引用计数器的值为1。当该对象引用数减为0，Python立即将其释放，把内存归还系统。
	
#标记清除
当出现循环引用如下：
lst1=[]
lst2=[]
lst1.append(lst2)
lst2.append(lst1)
此时引用计数不好使了，标记清除方式：
	  1.将每个引用-1，此时引用为0的放到死亡容器中，引用大于0的放到存货容器中。
    2.遍历存活容器，查看是否有存活容器引用了死亡容器内对象，如果有，把该对象从死亡容器内取走，放到存活容器内。
    3.将死亡容器内所有对象删除
    
#分代回收
	  1.新创建的对象作为0代
    2.每执行一次  标记清除， 存活对象代数+1
    3.代数越高的对象，进行[标记清除]事件间隔就越长，这个间隔，称为阈值。
</code></pre></div></li> <li><p>实现链表</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#链表是一个线性表，每一个节点里存放下一个节点的信息（即地址）</span>
<span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">,</span>item <span class="token operator">=</span> item
        self<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span>
    


<span class="token keyword">class</span> <span class="token class-name">Link</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_head <span class="token operator">=</span> <span class="token boolean">None</span>
        
    <span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;链表添加元素&quot;&quot;&quot;</span>
        node <span class="token operator">=</span> Node<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        node<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>_head
        self<span class="token punctuation">.</span>_head <span class="token operator">=</span> node
    
    
    <span class="token keyword">def</span> <span class="token function">travel</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;展示链表&quot;&quot;&quot;</span>
        cur <span class="token operator">=</span> self<span class="token punctuation">.</span>_head
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>_head <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;链表为空&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">while</span> cur<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>item<span class="token punctuation">)</span>
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token builtin">next</span>
            
            
    <span class="token keyword">def</span> <span class="token function">isEmptpy</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;判断链表是否为空&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_head <span class="token operator">==</span> <span class="token boolean">None</span>
    
    <span class="token keyword">def</span> <span class="token function">length</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;判断链表长度&quot;&quot;&quot;</span>
        cur <span class="token operator">=</span> self<span class="token punctuation">.</span>_head
        count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> cur<span class="token punctuation">:</span>
            count <span class="token operator">+=</span><span class="token number">1</span>
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> count
    <span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;查找元素是否在链表里&quot;&quot;&quot;</span>
        cur <span class="token operator">=</span> self<span class="token punctuation">.</span>_head
        find <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">while</span> cur<span class="token punctuation">:</span>
            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>item <span class="token operator">==</span> item<span class="token punctuation">:</span>
                find <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token keyword">break</span>
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> find
    <span class="token keyword">def</span> <span class="token function">append</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;后链表后追加&quot;&quot;&quot;</span>
        node <span class="token operator">=</span> Node<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>_head <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>_head<span class="token operator">=</span>node
            <span class="token keyword">return</span> 
        cur <span class="token operator">=</span> self<span class="token punctuation">.</span>_head
        pre <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">while</span> cur<span class="token punctuation">:</span>
            pre <span class="token operator">=</span> cur
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token builtin">next</span>  
        pre<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> node
    
    <span class="token keyword">def</span> <span class="token function">insert</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;指定位置插入数据&quot;&quot;&quot;</span>
        node <span class="token operator">=</span> Node<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token keyword">if</span> pos <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token keyword">or</span> pos <span class="token operator">&gt;</span>self<span class="token punctuation">.</span>length<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;超出索引范围&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        cur <span class="token operator">=</span> self<span class="token punctuation">.</span>_head
        pre <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">:</span>
            pre <span class="token operator">=</span> cur
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token builtin">next</span>
        pre<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> node
        node<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> cur
    <span class="token keyword">def</span> <span class="token function">remove</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;移除数据&quot;&quot;&quot;</span>
        cur <span class="token operator">=</span> self<span class="token punctuation">.</span>_head
        pre <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>_head <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&quot;链表为空&quot;</span>
        
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>_head<span class="token punctuation">.</span>item <span class="token operator">==</span> item<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>_head <span class="token operator">=</span> self<span class="token punctuation">.</span>_head<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">while</span> cur<span class="token punctuation">:</span>
            pre <span class="token operator">=</span> cur
            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token builtin">next</span>
            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>item <span class="token operator">==</span> item<span class="token punctuation">:</span>
                pre<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token builtin">next</span>
                <span class="token keyword">return</span>
   <span class="token keyword">def</span> <span class="token function">reverse_link</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;链表逆置&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>_head <span class="token keyword">or</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>_head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>_head
        prev_node <span class="token operator">=</span> <span class="token boolean">None</span>
        cur <span class="token operator">=</span> self<span class="token punctuation">.</span>_head
        next_node <span class="token operator">=</span> self<span class="token punctuation">.</span>_head<span class="token punctuation">.</span><span class="token builtin">next</span>

        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            cur<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> prev_node
            <span class="token keyword">if</span> <span class="token keyword">not</span> next_node<span class="token punctuation">:</span>
                <span class="token keyword">break</span>

            prev_node <span class="token operator">=</span> cur
            cur <span class="token operator">=</span> next_node
            next_node <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> cur
</code></pre></div></li> <li><p>链表的逆转</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>value<span class="token punctuation">,</span><span class="token builtin">next</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value
        self<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token builtin">next</span>

head <span class="token operator">=</span> Node<span class="token punctuation">(</span><span class="token string">&quot;头&quot;</span><span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">)</span>

last <span class="token operator">=</span> head
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    node <span class="token operator">=</span> Node<span class="token punctuation">(</span><span class="token string">&quot;V%s&quot;</span><span class="token operator">%</span>i<span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">)</span>
    last<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> node
    last <span class="token operator">=</span> node
<span class="token keyword">print</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token operator">*</span><span class="token number">32</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">reverse_linked_list</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> head <span class="token keyword">or</span> <span class="token keyword">not</span> head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> head

    prev_node <span class="token operator">=</span> <span class="token boolean">None</span>
    current_node <span class="token operator">=</span> head
    next_node <span class="token operator">=</span> head<span class="token punctuation">.</span><span class="token builtin">next</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token comment">#将当前链表指向上一个节点</span>
        current_node<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> prev_node
        <span class="token keyword">if</span> <span class="token keyword">not</span> next_node<span class="token punctuation">:</span>
            <span class="token keyword">break</span>
        <span class="token comment">#</span>
        prev_node <span class="token operator">=</span> current_node
        current_node <span class="token operator">=</span> next_node
        next_node <span class="token operator">=</span> current_node<span class="token punctuation">.</span><span class="token builtin">next</span>
    <span class="token keyword">return</span> current_node

new_head <span class="token operator">=</span> reverse_linked_list<span class="token punctuation">(</span>head<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_head<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>两个队列实现一个栈</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> queue
<span class="token keyword">class</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>master_queue <span class="token operator">=</span> queue<span class="token punctuation">.</span>Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>minor_queue <span class="token operator">=</span> queue<span class="token punctuation">.</span>Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;入栈&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>master_queue<span class="token punctuation">.</span>put<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;出栈&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>master_queue<span class="token punctuation">.</span>qsize<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>

        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            <span class="token comment">#判断master队列长度是否为1</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>master_queue<span class="token punctuation">.</span>qsize<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                <span class="token comment">#当master队列长度为1，用get方法获取值。</span>
                value <span class="token operator">=</span> self<span class="token punctuation">.</span>master_queue<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
            <span class="token comment">#反之，循环 通过get方法将master队列值用put方法放入minor队列中</span>
           self<span class="token punctuation">.</span>minor_queue<span class="token punctuation">.</span>put<span class="token punctuation">(</span>self<span class="token punctuation">.</span>master_queue<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment">#master,与minor队列互相交换</span>
        self<span class="token punctuation">.</span>master_queue<span class="token punctuation">,</span>self<span class="token punctuation">.</span>minor_queue <span class="token operator">=</span> self<span class="token punctuation">.</span>minor_queue<span class="token punctuation">,</span>self<span class="token punctuation">.</span>master_queue
        <span class="token keyword">return</span> value

a <span class="token operator">=</span> queue<span class="token punctuation">.</span>Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>qsize<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>redis是单线程还是多进程</p> <div class="language- extra-class"><pre class="language-text"><code>Redis是单线程，线程安全。
Redis快速执行原因：
	1.最主要内存中操作数据
	2.数据简单
	3.采用单线程，避免不必要上下文切换和竞争条件
	4.非阻塞IO-IO多路复用。
</code></pre></div></li> <li><p>redis如何实现主从复制，以及数据同步机制？</p> <div class="language- extra-class"><pre class="language-text"><code>实现主从复制：
	  1. 从服务器向主服务器发送 SYNC 命令。
    2. 接到 SYNC 命令的主服务器会调用BGSAVE 命令，创建一个 RDB 文件，并使用缓冲区记录接下来执行的所有写命令。
    3. 当主服务器执行完 BGSAVE 命令时，它会向从服务器发送 RDB 文件，而从服务器则会接收并载入这个文件。
    4. 主服务器将缓冲区储存的所有写命令发送给从服务器执行。
</code></pre></div></li> <li><p>Redis 中的 sentinel（哨兵）的作用？</p> <div class="language- extra-class"><pre class="language-text"><code>Redis中的哨兵作用：
	1.监控redis是否运行良好。
	2.如果某个节点出现问题，通知其他进程
	3.自动故障转移。如master节点宕机，从slave选一个新的master,高正高可用。

sentinel(哨兵)分布式特性：
	单个sentinel进程，如果这个进程运行出错。将无法主备切换。
	如果有多个sentinel,即使挂掉几个sentinel进程，也不影响主备切换。
</code></pre></div></li> <li><p>redis如何实现集群？</p> <div class="language- extra-class"><pre class="language-text"><code>通过redis-cluster

客户端分片：
	将redis所有的key分成16384个槽位，每个redis实例负责一部分slot（插槽）,集群中的所有信息通过节点数据交换而更新。
	数据分布原理：顺序分区，哈希分区，一致性哈希，虚拟槽分区
</code></pre></div></li> <li><p>基于redis实现消息队列</p> <div class="language- extra-class"><pre class="language-text"><code>相比于Redis实现消息队列原理
	RabbitMQ  消息队列太大太重。 redis相比轻量级消息队列服务。

消息队列方式：
	1.发布订阅模式
	2.生产消费者模式

发布者和订阅者模式：发布者发送消息到队列，每个订阅者都能收到一样的消息。 
生产者和消费者模式：生产者将消息放入队列，多个消费者共同监听，谁先抢到资源，谁就从队列中取走消息去处理。注意，每个消息只能最多被一个消费者接收。

redis消息队列使用场景：
	用消息队列来实现短信的服务化，任何需要发送短信的模块，都可以直接调用短信服务来完成短信的发送。比如用户系统登录注册短信，订单系统的下单成功的短信等。
</code></pre></div></li> <li><p>缓存的雪崩，缓存击穿，缓存穿透</p> <div class="language- extra-class"><pre class="language-text"><code>1.缓存穿透：
	是指查询一个数据库一定不存在的数据，正常使用缓存流程大致是，数据查询先进行缓存查询，如果key不存在或者key已经过期，再对数据库进行查询，并把查询到对象，放进缓存，如果数据库查询对象为空，则不放进缓存。
2.缓存雪崩：
	是指在某一个时间段，缓存集中过期失效。大量请求发送到数据库
3.缓存击穿：
	是指一个key非常热点，在不停扛着大并发，大并发集中对这一个点进行访问，当这个key在失效瞬间，持续大并发就击穿缓存。直接请求数据库，就像一个屏障凿开一个洞。
	做电商项目的时候，把这货就成为“爆款”。
</code></pre></div></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.51f2f156.js" defer></script><script src="/assets/js/2.8911ec45.js" defer></script><script src="/assets/js/65.0234d7c5.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>函数 | 独角兕大王</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.ccac5a78.css" as="style"><link rel="preload" href="/assets/js/app.51f2f156.js" as="script"><link rel="preload" href="/assets/js/2.8911ec45.js" as="script"><link rel="preload" href="/assets/js/90.805edabe.js" as="script"><link rel="prefetch" href="/assets/js/10.6948c28b.js"><link rel="prefetch" href="/assets/js/100.276864ee.js"><link rel="prefetch" href="/assets/js/101.447ab1c7.js"><link rel="prefetch" href="/assets/js/102.f5b3c71d.js"><link rel="prefetch" href="/assets/js/103.16474d4b.js"><link rel="prefetch" href="/assets/js/104.ed58aef3.js"><link rel="prefetch" href="/assets/js/105.045203cd.js"><link rel="prefetch" href="/assets/js/106.be359e0b.js"><link rel="prefetch" href="/assets/js/107.7331bbca.js"><link rel="prefetch" href="/assets/js/108.76e1c800.js"><link rel="prefetch" href="/assets/js/109.e82166f3.js"><link rel="prefetch" href="/assets/js/11.d4ec37c8.js"><link rel="prefetch" href="/assets/js/110.4144755a.js"><link rel="prefetch" href="/assets/js/111.5864ab53.js"><link rel="prefetch" href="/assets/js/112.ca2aee84.js"><link rel="prefetch" href="/assets/js/113.641e7765.js"><link rel="prefetch" href="/assets/js/114.d69f8545.js"><link rel="prefetch" href="/assets/js/115.1b6a9f89.js"><link rel="prefetch" href="/assets/js/116.dde2c44e.js"><link rel="prefetch" href="/assets/js/117.4e79498c.js"><link rel="prefetch" href="/assets/js/12.7aac9c8d.js"><link rel="prefetch" href="/assets/js/13.abf127cd.js"><link rel="prefetch" href="/assets/js/14.aa4413a7.js"><link rel="prefetch" href="/assets/js/15.11a64e5b.js"><link rel="prefetch" href="/assets/js/16.f2d9a882.js"><link rel="prefetch" href="/assets/js/17.11c5bb7f.js"><link rel="prefetch" href="/assets/js/18.a522877b.js"><link rel="prefetch" href="/assets/js/19.6f31a972.js"><link rel="prefetch" href="/assets/js/20.b546c54e.js"><link rel="prefetch" href="/assets/js/21.6d055b7f.js"><link rel="prefetch" href="/assets/js/22.c48feceb.js"><link rel="prefetch" href="/assets/js/23.69941f78.js"><link rel="prefetch" href="/assets/js/24.6126dfc2.js"><link rel="prefetch" href="/assets/js/25.3475449c.js"><link rel="prefetch" href="/assets/js/26.96bb4643.js"><link rel="prefetch" href="/assets/js/27.da610e5d.js"><link rel="prefetch" href="/assets/js/28.b24ec15c.js"><link rel="prefetch" href="/assets/js/29.ec8af553.js"><link rel="prefetch" href="/assets/js/3.bec5f768.js"><link rel="prefetch" href="/assets/js/30.2e780db1.js"><link rel="prefetch" href="/assets/js/31.464c36ed.js"><link rel="prefetch" href="/assets/js/32.ad7d37c2.js"><link rel="prefetch" href="/assets/js/33.722f1ec5.js"><link rel="prefetch" href="/assets/js/34.8448d0fd.js"><link rel="prefetch" href="/assets/js/35.e5168ac9.js"><link rel="prefetch" href="/assets/js/36.edc404f1.js"><link rel="prefetch" href="/assets/js/37.5807602e.js"><link rel="prefetch" href="/assets/js/38.a519c89a.js"><link rel="prefetch" href="/assets/js/39.89af1b9a.js"><link rel="prefetch" href="/assets/js/4.5ed19beb.js"><link rel="prefetch" href="/assets/js/40.6c653db9.js"><link rel="prefetch" href="/assets/js/41.bc3b8b69.js"><link rel="prefetch" href="/assets/js/42.a0a02d9b.js"><link rel="prefetch" href="/assets/js/43.62f344e3.js"><link rel="prefetch" href="/assets/js/44.a7fd9d68.js"><link rel="prefetch" href="/assets/js/45.729c1c39.js"><link rel="prefetch" href="/assets/js/46.5b924aea.js"><link rel="prefetch" href="/assets/js/47.f3990404.js"><link rel="prefetch" href="/assets/js/48.f591f360.js"><link rel="prefetch" href="/assets/js/49.f7f213ad.js"><link rel="prefetch" href="/assets/js/5.2c5d28b5.js"><link rel="prefetch" href="/assets/js/50.b9ca2762.js"><link rel="prefetch" href="/assets/js/51.93672ee6.js"><link rel="prefetch" href="/assets/js/52.fb21314a.js"><link rel="prefetch" href="/assets/js/53.65343ccc.js"><link rel="prefetch" href="/assets/js/54.8081227d.js"><link rel="prefetch" href="/assets/js/55.e207659e.js"><link rel="prefetch" href="/assets/js/56.bde381df.js"><link rel="prefetch" href="/assets/js/57.f8eceb45.js"><link rel="prefetch" href="/assets/js/58.bef70bfd.js"><link rel="prefetch" href="/assets/js/59.7ab7562d.js"><link rel="prefetch" href="/assets/js/6.fc65a1ac.js"><link rel="prefetch" href="/assets/js/60.f40ac3ca.js"><link rel="prefetch" href="/assets/js/61.d2b463ab.js"><link rel="prefetch" href="/assets/js/62.cfdf1bcf.js"><link rel="prefetch" href="/assets/js/63.1e45ce59.js"><link rel="prefetch" href="/assets/js/64.a98fe86e.js"><link rel="prefetch" href="/assets/js/65.0234d7c5.js"><link rel="prefetch" href="/assets/js/66.724906f0.js"><link rel="prefetch" href="/assets/js/67.7806fda6.js"><link rel="prefetch" href="/assets/js/68.9f227dae.js"><link rel="prefetch" href="/assets/js/69.fdbc56ac.js"><link rel="prefetch" href="/assets/js/7.284de54e.js"><link rel="prefetch" href="/assets/js/70.04a9cc03.js"><link rel="prefetch" href="/assets/js/71.a6fa1dd9.js"><link rel="prefetch" href="/assets/js/72.2f8e3aa0.js"><link rel="prefetch" href="/assets/js/73.9bbb0cb6.js"><link rel="prefetch" href="/assets/js/74.9f122255.js"><link rel="prefetch" href="/assets/js/75.75e1fbd8.js"><link rel="prefetch" href="/assets/js/76.60ff3c3e.js"><link rel="prefetch" href="/assets/js/77.39a253ae.js"><link rel="prefetch" href="/assets/js/78.0e49712f.js"><link rel="prefetch" href="/assets/js/79.5f9c24a0.js"><link rel="prefetch" href="/assets/js/8.5c21a4cc.js"><link rel="prefetch" href="/assets/js/80.f826f188.js"><link rel="prefetch" href="/assets/js/81.b8995ea7.js"><link rel="prefetch" href="/assets/js/82.e9bf63e0.js"><link rel="prefetch" href="/assets/js/83.e3a00749.js"><link rel="prefetch" href="/assets/js/84.b940927c.js"><link rel="prefetch" href="/assets/js/85.ad46a9b2.js"><link rel="prefetch" href="/assets/js/86.190e0071.js"><link rel="prefetch" href="/assets/js/87.5f9eb9ef.js"><link rel="prefetch" href="/assets/js/88.cfaf7469.js"><link rel="prefetch" href="/assets/js/89.e64cc32c.js"><link rel="prefetch" href="/assets/js/9.0723805d.js"><link rel="prefetch" href="/assets/js/91.6a1ab3f7.js"><link rel="prefetch" href="/assets/js/92.04ecd01e.js"><link rel="prefetch" href="/assets/js/93.e615470a.js"><link rel="prefetch" href="/assets/js/94.0ad7c41c.js"><link rel="prefetch" href="/assets/js/95.0e5ce618.js"><link rel="prefetch" href="/assets/js/96.b59cf9f4.js"><link rel="prefetch" href="/assets/js/97.2a327746.js"><link rel="prefetch" href="/assets/js/98.9c01ec88.js"><link rel="prefetch" href="/assets/js/99.952046bd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ccac5a78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://github.com/fluidicon.png" alt="独角兕大王" class="logo"> <span class="site-name can-hide">独角兕大王</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/python/" class="nav-link router-link-active">
  Python
</a></div><div class="nav-item"><a href="/rust/" class="nav-link">
  Rust
</a></div><div class="nav-item"><a href="/go/" class="nav-link">
  Go
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/lua/" class="nav-link">
  Lua
</a></div><div class="nav-item"><a href="/C/" class="nav-link">
  C++
</a></div><div class="nav-item"><a href="https://github.com/wuyuz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.cnblogs.com/double-W/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cnblogs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/python/" class="nav-link router-link-active">
  Python
</a></div><div class="nav-item"><a href="/rust/" class="nav-link">
  Rust
</a></div><div class="nav-item"><a href="/go/" class="nav-link">
  Go
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/lua/" class="nav-link">
  Lua
</a></div><div class="nav-item"><a href="/C/" class="nav-link">
  C++
</a></div><div class="nav-item"><a href="https://github.com/wuyuz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.cnblogs.com/double-W/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cnblogs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python常用模块</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Python基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/python/origin/Python内置方法.html" class="sidebar-link">Python内置方法</a></li><li><a href="/python/origin/元类.html" class="sidebar-link">元类的深度理解</a></li><li><a href="/python/origin/函数部分.html" class="active sidebar-link">函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/python/origin/函数部分.html#函数" class="sidebar-link">函数</a></li></ul></li><li><a href="/python/origin/数据类型.html" class="sidebar-link">数据类型</a></li><li><a href="/python/origin/面向对象.html" class="sidebar-link">面向对象</a></li><li><a href="/python/origin/模块和包.html" class="sidebar-link">模块和包</a></li><li><a href="/python/origin/网络基础.html" class="sidebar-link">网络基础</a></li><li><a href="/python/origin/正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/python/origin/异常处理.html" class="sidebar-link">异常处理</a></li><li><a href="/python/origin/TCP和UDP.html" class="sidebar-link">TCP和UDP</a></li><li><a href="/python/origin/线程.html" class="sidebar-link">线程</a></li><li><a href="/python/origin/multiprocessing（上）.html" class="sidebar-link">multiprocessing（上）</a></li><li><a href="/python/origin/multiprocessing（中）.html" class="sidebar-link">multiprocessing（中）</a></li><li><a href="/python/origin/multiprocessing（下）.html" class="sidebar-link">multiprocessing（下）</a></li><li><a href="/python/origin/协程.html" class="sidebar-link">协程</a></li><li><a href="/python/origin/IO多路复用.html" class="sidebar-link">IO 多路复用</a></li><li><a href="/python/origin/C3算法.html" class="sidebar-link">C3算法</a></li><li><a href="/python/origin/yield  from语法与协程.html" class="sidebar-link">yield  from语法与协程</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Django框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flask 框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python爬虫</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python设计模式</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <ul><li><p>函数：就是对代码进行封装，以便我们调用</p></li> <li><p>函数式编程也叫面向过程编程，存在的问题：代码冗余、可读性差、可扩展性差(不易修改)</p></li> <li><p><code>闭包函数</code>：内部函数包含对外部作用域而非全局作用域名字的引用，该内部函数称为闭包函数：如装饰器</p> <ol><li>判断是不是闭包函数的方法： <code>__closure__</code>，不是返回None</li></ol></li> <li><p><strong>装饰器</strong>：</p> <ol><li><p>本质： 一个闭包函数</p></li> <li><p>装饰器的功能：在不修改原函数及其调用方式的情况下对原函数功能进行扩展</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> time 
<span class="token keyword">def</span> <span class="token function">timer</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 固定格式接受一切参数</span>
        start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
        re <span class="token operator">=</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span>
        <span class="token keyword">return</span> re
    <span class="token keyword">return</span> inner

<span class="token decorator annotation punctuation">@timer</span>   <span class="token comment">#==&gt; func1 = timer(func1)</span>
<span class="token keyword">def</span> <span class="token function">func1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'in func1'</span><span class="token punctuation">)</span>
    
<span class="token keyword">print</span><span class="token punctuation">(</span>index<span class="token punctuation">.</span>__doc__<span class="token punctuation">)</span>    <span class="token comment">#查看函数注释的方法</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># 查看对象的内置方法</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>index<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span>   <span class="token comment">#查看函数名的方法</span>
</code></pre></div></li> <li><p><strong>开放封闭原则</strong></p> <div class="language- extra-class"><pre class="language-text"><code>1、对扩展开放：可以代码扩充、添加新功能

2. 对修改封闭：因为我们并没有修改原本的函数调用方式，没有修改以前的调用方式
</code></pre></div></li></ol></li> <li><p>多个装饰器(纵向衍生)和多参数装饰器(横向衍生)</p> <div class="language-python extra-class"><pre class="language-python"><code>  <span class="token comment"># 纵向衍生，多个装饰器叠加，装饰器内部通过return将本身的内层函数作为参数传给上一个，而被装饰函数名会首先往上传，最后语法糖会得到最上面一个装饰器的内层函数</span>
  <span class="token keyword">def</span> <span class="token function">wrapper1</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">def</span> <span class="token function">inner1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
          <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'wrapper1 ,before func'</span><span class="token punctuation">)</span>
          func<span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'wrapper1 ,after func'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> inner1
  
  <span class="token keyword">def</span> <span class="token function">wrapper2</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">def</span> <span class="token function">inner2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
          <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'wrapper2 ,before func'</span><span class="token punctuation">)</span>
          func<span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'wrapper2 ,after func'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> inner2
  
   <span class="token comment"># f = wrapper2(wrapper1(f))  这里我们带入后的结果为 f = wrapper2（inner1） 此时f已存在			wrapper1中，使其为闭包暂存，</span>
  <span class="token decorator annotation punctuation">@wrapper2</span>   <span class="token comment">#2、 warpper2本来想接收被装饰函数名，但是却得到了包裹着被装饰函数名的inner1，只能接收作为参数，最后返回他的inner2给f</span>
  <span class="token decorator annotation punctuation">@wrapper1</span>   <span class="token comment">#1、接收被装饰得函数名，返回一个内层函数inner1给wrapper2</span>
  <span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'in f'</span><span class="token punctuation">)</span>
  f<span class="token punctuation">(</span><span class="token punctuation">)</span>
  
  <span class="token comment">#wrapper2 ,before func</span>
  <span class="token comment">#wrapper1 ,before func</span>
  <span class="token comment">#in f</span>
  <span class="token comment">#wrapper1 ,after func</span>
  <span class="token comment">#wrapper2 ,after func</span>
  
  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
  <span class="token comment"># 横向衍生，装饰器函数内有多层函数，需要一层层的剥装饰器函数内部，每剥一次会得到新的装饰器</span>
  <span class="token keyword">def</span> <span class="token function">lo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'logger is working!'</span><span class="token punctuation">)</span>
      
  <span class="token keyword">def</span> <span class="token function">logger</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 通过添加logger函数来使在想要添加日记记录lo函数时，添加</span>
      <span class="token keyword">def</span> <span class="token function">show_time</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">:</span>
          <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token operator">*</span>x<span class="token punctuation">,</span><span class="token operator">**</span>y<span class="token punctuation">)</span><span class="token punctuation">:</span>
              start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
              f<span class="token punctuation">(</span><span class="token operator">*</span>x<span class="token punctuation">,</span><span class="token operator">**</span>y<span class="token punctuation">)</span>
              end <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'spend %s'</span><span class="token operator">%</span><span class="token punctuation">(</span>end<span class="token operator">-</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token keyword">if</span> flag <span class="token operator">==</span> <span class="token string">'True'</span><span class="token punctuation">:</span>
                  lo<span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token keyword">return</span> <span class="token string">'over'</span>
          <span class="token keyword">return</span> inner
      <span class="token keyword">return</span> show_time
  
  <span class="token decorator annotation punctuation">@logger</span><span class="token punctuation">(</span><span class="token string">'True'</span><span class="token punctuation">)</span>   <span class="token comment"># foo = logger(True)(f) ==&gt; show_time(f) ==&gt; inner  注意这就是装饰器的横向的特性，也就是一层层往里翻</span>
  <span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span>
      time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  
  <span class="token keyword">print</span><span class="token punctuation">(</span>foo<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  
   <span class="token comment">#注意：重点，这是我在学到Flask的时候突然明白的一点,恍然大悟，我们之前写装饰器默认是没有括号的(默认是将装饰的函数名传递给装饰器当参数，如纵向衍生)，在横向衍生的实列中我们看到传入了一个True的参数，所以先执行login函数，进入后因为闭包保存了flag = True，同时返回了show_time函数，此时再将装饰的函数名传入给f。</span>
  <span class="token comment"># 判断是何类型</span>
<span class="token keyword">from</span> collections <span class="token keyword">import</span> Iterable
l<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span>Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span>
</code></pre></div></li></ul> <p><strong>迭代器(iter)</strong></p> <ol><li><p>可迭代对象:  Iterable, 里面有<code>__iter__()</code>可以获取迭代器, 没有 <code>__next__()</code></p> <p>迭代器:   Iterator, 里面有 <code>__iter__()</code>  可以获取迭代器, 还有迭代器的 <code>__next__()</code> 方法用来获取下一个元素</p></li></ol> <p>​	2.可迭代协议：如果对象中有 <code>__iter__()</code> 函数方法，我们就认为这个函数遵守可迭代协议</p> <ol start="3"><li>迭代器协议： 必须拥有<code>__iter__()</code> 和 <code>__next__()</code>  函数方法</li> <li>4.<strong>for循环内部机制</strong>：</li></ol> <div class="language-python extra-class"><pre class="language-python"><code>lst <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">#list是可迭代对象</span>
lst_iter <span class="token operator">=</span> lst<span class="token punctuation">.</span>__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">#获取迭代器</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>    <span class="token comment">#试试</span>
        i <span class="token operator">=</span> lst_iter<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">#调用next方法，获取下一个元素</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span>    <span class="token comment">#除了这事我兜着</span>
        <span class="token keyword">break</span> 
</code></pre></div><ul><li><p><strong>生成器(Generator)：</strong></p> <ol><li><p>生成器函数： 常规函数定义 ，但是使用<code>yield</code>语句替代<code>return</code>语句，每次yield语句返回一个结果，且使得函数处于挂起状态以便下次传值进入函数或是执行下面的代码</p></li> <li><p>生成器表达式：类似于列表推导式，但是生成器返回的是一个生成器对象</p></li> <li><p>生成器的生成方式：1、生成器推导式；2、还有yield的函数</p></li> <li><p>生成器本质： 就是一个迭代器（所以自带了<code>__iter__()</code> 和 <code>__next__()</code> 方法，不需要我们去实现）</p></li> <li><p>特点： 惰性运算，开发者自定义，节省空间，从上自下，只执行一次</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;生产衣服&quot;&quot;&quot;</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2000000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">yield</span> <span class="token string">&quot;生产了第%s件衣服&quot;</span><span class="token operator">%</span>i

product_g <span class="token operator">=</span> produce<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 生成一个生成器对象</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>product_g<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#要一件衣服</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>product_g<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#再要一件衣服</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>product_g<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#再要一件衣服</span>
</code></pre></div></li> <li><p>生成器的各种方法：</p></li></ol> <div class="language- extra-class"><pre><code>```python
  # send() 获取下一个值得时候和next基本一样，但是在第一次触发的时候，要么send(None)要么 __next__(),同时send可以给上一个yield传递数据    
 def averager():
       total = 0.0
       count = 0
       average = None
       while True:   # 生成器无底洞
           term = yield average  # 最先返回一个None，紧接着接受一个传来的新值
           total += term
           count += 1
           average = total/count
   
   g_avg = averager()
   next(g_avg)  #触发第一次的yield，返回None
   print(g_avg.send(10))  #10
   print(g_avg.send(30))  #20
   print(g_avg.send(5))   #15
   
     #yield from 从某对象中迭代的拿出来
   def gen1():
       for c in 'AB':
           yield c
       for i in range(3):
           yield i
   print(list(gen1()))   #['A', 'B', 0, 1, 2]
   
   def gen2():
       yield from 'AB'
       yield from range(3)
   print(list(gen2()))   #['A', 'B', 0, 1, 2]
   
     # next(生成器对象)方法和.__next__()方法一样，取下一个值
        
 #总结经验：yield一般和 while 使用，在外部用for触发
```
</code></pre></div><ol start="5"><li><p><strong>列表和生成器推导式：</strong></p> <div class="language-python extra-class"><pre class="language-python"><code>   <span class="token comment">#列表推导式</span>
   lst <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'python%s'</span> <span class="token operator">%</span> i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span>  <span class="token comment">#[python1,python2……]</span>
   <span class="token comment">#列表推导式加条件</span>
   lst <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span>  <span class="token comment">#[2,4,6,8……98]</span>
   <span class="token comment">#生成器推导式</span>
   s <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># s是一个生成器地址</span>
   <span class="token comment">#生成器推导式加条件</span>
   gen <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
   <span class="token keyword">for</span> num <span class="token keyword">in</span> gen<span class="token punctuation">:</span>
       <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  <span class="token comment"># 3，6，9……99</span>
    
li <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'abc'</span><span class="token punctuation">]</span>
l<span class="token operator">=</span><span class="token punctuation">[</span> x <span class="token keyword">for</span> v <span class="token keyword">in</span> li <span class="token keyword">for</span> x <span class="token keyword">in</span> v<span class="token punctuation">]</span> <span class="token comment">#注意顺序，先打开，再for，从一个里拿 </span>
<span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>  <span class="token comment">#[1, 2, 4, 5, 6, 9, 'a', 'b', 'c'] </span>

<span class="token comment">#以下代码执行的结果是?解释其原因: {x:y for x in ['Male','Female'] for y in ['Red','Black']}？</span>

<span class="token punctuation">{</span><span class="token string">'Male'</span><span class="token punctuation">:</span> <span class="token string">'Black'</span><span class="token punctuation">,</span> <span class="token string">'Female'</span><span class="token punctuation">:</span> <span class="token string">'Black'</span><span class="token punctuation">}</span> <span class="token comment">#正确答案，原因很简单，键唯一，每次否被最后一个覆盖</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> y<span class="token punctuation">}</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">'Male'</span><span class="token punctuation">,</span> <span class="token string">'Female'</span><span class="token punctuation">]</span> <span class="token keyword">for</span> y <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">'Red'</span><span class="token punctuation">,</span> <span class="token string">'Black'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#从两个里拿</span>
<span class="token comment">#结果:[{'Male': 'Red'}, {'Male': 'Black'}, {'Female': 'Red'}, {'Female': 'Black'}]</span>
    <span class="token comment"># 从左至右的去可迭代对象</span>

lis <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'L'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># 解包zip</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'O'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token string">'S'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'R'</span><span class="token punctuation">,</span> <span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token string">'N'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
args<span class="token operator">=</span> <span class="token punctuation">[</span> x <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span>lis<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> i <span class="token keyword">if</span> x <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>

 <span class="token comment">#三元运算</span>
a <span class="token punctuation">,</span>b<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span>
c<span class="token operator">=</span>a <span class="token keyword">if</span> a<span class="token operator">&lt;</span>b <span class="token keyword">else</span> b
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment">#1</span>

  <span class="token comment">#列表推导式和生成器推导式的区别：</span>
      <span class="token comment">#1.列表推导式比较耗内存，一次性加载，生成器几乎不占内存，使用的时候才分配</span>
      <span class="token comment">#2.生成的结果不一样，一个是列表一个是生成器地址</span>
</code></pre></div><ol start="6"><li><strong>递归函数</strong>：在函数里面调用这个函数本身</li></ol> <div class="language-python extra-class"><pre class="language-python"><code>  <span class="token comment">#递归函数的最大递归次数：1000，但是一般电脑最多到998就不行了</span>
    <span class="token keyword">def</span> <span class="token function">age</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment"># 递归函数需要设计一个出口，不然会一直递归下去</span>
          <span class="token keyword">return</span> <span class="token number">40</span>
      <span class="token keyword">else</span><span class="token punctuation">:</span>
          <span class="token keyword">return</span> age<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span>   <span class="token comment">#  age(3)+2=&gt;(age(2)+2)+2=&gt;((age(1)+2)+2)+2</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>age<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 46</span>
  
  <span class="token comment">#压栈实现三级菜单</span>
  l<span class="token operator">=</span><span class="token punctuation">[</span>menu<span class="token punctuation">]</span>  <span class="token comment">#menu 是一个三级字典</span>
  <span class="token keyword">while</span> l<span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>
      <span class="token keyword">for</span> key <span class="token keyword">in</span> l<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>  <span class="token comment"># 打印字典得键</span>
      k <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'input&gt;&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 北京</span>
      <span class="token keyword">if</span> k <span class="token keyword">in</span> l<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> l<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">:</span>l<span class="token punctuation">.</span>append<span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#妙 满足条件则增加新环境</span>
      <span class="token keyword">elif</span> k <span class="token operator">==</span> <span class="token string">'b'</span><span class="token punctuation">:</span>l<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">elif</span> k <span class="token operator">==</span> <span class="token string">'q'</span><span class="token punctuation">:</span><span class="token keyword">break</span>   
</code></pre></div></li></ol></li></ul> <h3 id="内置函数"><a href="#内置函数" class="header-anchor">#</a> 内置函数</h3> <ul><li><p>内置函数中含有iterable参数的方法：</p> <ol><li><p>大部分内置函数，也是使用迭代器协议访问对象的。例如 sum、sorted函数等：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># 在内置函数中，只要参数需要iterable的就含有next方法，它们会自动调用其中的每个值。</span>
<span class="token builtin">all</span><span class="token punctuation">(</span>iterable<span class="token punctuation">)</span> <span class="token comment">#如果集合元素都是true或集合为空，就返回True， </span>
<span class="token builtin">any</span><span class="token punctuation">(</span>iterable<span class="token punctuation">)</span> <span class="token comment">#只要一项True就True</span>
<span class="token builtin">enumerate</span><span class="token punctuation">(</span>iterablem<span class="token punctuation">,</span>start<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#枚举，返回每个元素和索引且开始值为0，可设置</span>
<span class="token builtin">filter</span><span class="token punctuation">(</span>function<span class="token punctuation">,</span>iterable<span class="token punctuation">)</span> <span class="token comment">#过滤函数，可以对每个可迭代对象中的值进行筛选，返回一个迭代器</span>
<span class="token builtin">map</span><span class="token punctuation">(</span>function<span class="token punctuation">,</span>iterable<span class="token punctuation">)</span> <span class="token comment">#遍历函数，将function作用于每个iterable项，返回一个迭代器</span>
<span class="token builtin">sorted</span><span class="token punctuation">(</span>iterable<span class="token punctuation">,</span>key<span class="token operator">=</span>function<span class="token punctuation">,</span>reverse<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token comment"># 少用占内存，可以使用自带list.sort()</span>
<span class="token builtin">sum</span><span class="token punctuation">(</span>iterable<span class="token punctuation">,</span>start<span class="token punctuation">)</span> <span class="token comment"># 求和函数，求完后会再加start</span>
<span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span>iterable<span class="token punctuation">)</span>  <span class="token comment">#会先将可迭代对象打散，返回一个zip可迭代对象，可以list或则tuple</span>
<span class="token builtin">open</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span>mode<span class="token operator">=</span><span class="token string">'r'</span>……<span class="token punctuation">)</span>  <span class="token comment"># 返回一个可迭代对象，的文件句柄</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>iterable<span class="token punctuation">,</span>default<span class="token punctuation">)</span>  <span class="token comment"># 如果给定default则会在下一项不存在的时候返回defaut的值</span>
<span class="token builtin">max</span><span class="token punctuation">(</span>iterable<span class="token punctuation">,</span>key<span class="token punctuation">)</span> <span class="token comment">#key 可以接受一个返回数字的函数名，返回这个函数名最值的那一个，min也如此</span>

<span class="token builtin">frozenset</span><span class="token punctuation">(</span><span class="token punctuation">[</span>iterable<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 返回一个冻结的集合</span>
<span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span>iterable<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#返回一个可变、无序不重复的集合</span>
<span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">[</span>iterable<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#返回一个列表</span>
<span class="token builtin">tuple</span><span class="token punctuation">(</span><span class="token punctuation">[</span>iterable<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#返回一个元组</span>
<span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">[</span>iterable<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#返回一个字典</span>
</code></pre></div></li> <li><p>其他内置函数</p> <div class="language-python extra-class"><pre class="language-python"><code>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>	 <span class="token comment">#初始化对象，在创建新对象时调用</span>
__del__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>	   <span class="token comment">#释放对象，在对象被删除之前调用</span>
__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwd<span class="token punctuation">)</span>	<span class="token comment">#实例的生成操作</span>
__str__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>	   <span class="token comment">#在使用print语句时被调用</span>
__getitem__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>key<span class="token punctuation">)</span>	 <span class="token comment">#获取序列的索引key对应的值，等价于seq[key]</span>
__len__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>	   <span class="token comment">#在调用内联函数len()时被调用</span>
__cmp__<span class="token punctuation">(</span>stc<span class="token punctuation">,</span>dst<span class="token punctuation">)</span>	 <span class="token comment">#比较两个对象src和dst</span>
__getattr__<span class="token punctuation">(</span>s<span class="token punctuation">,</span>name<span class="token punctuation">)</span>	 <span class="token comment">#获取属性的值</span>
__setattr__<span class="token punctuation">(</span>s<span class="token punctuation">,</span>name<span class="token punctuation">,</span>value<span class="token punctuation">)</span>	 <span class="token comment">#设置属性的值</span>
__delattr__<span class="token punctuation">(</span>s<span class="token punctuation">,</span>name<span class="token punctuation">)</span>	 <span class="token comment"># 删除name属性</span>
__getattribute__<span class="token punctuation">(</span><span class="token punctuation">)</span>	 <span class="token comment">#__getattribute__()功能与__getattr__()类似</span>
__gt__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>other<span class="token punctuation">)</span>	 <span class="token comment">#判断self对象是否大于other对象</span>
__lt__<span class="token punctuation">(</span>slef<span class="token punctuation">,</span>other<span class="token punctuation">)</span>	 <span class="token comment">#判断self对象是否小于other对象</span>
__ge__<span class="token punctuation">(</span>slef<span class="token punctuation">,</span>other<span class="token punctuation">)</span>	 <span class="token comment">#判断self对象是否大于或者等于other对象</span>
__le__<span class="token punctuation">(</span>slef<span class="token punctuation">,</span>other<span class="token punctuation">)</span>	 <span class="token comment">#判断self对象是否小于或者等于other对象</span>
__eq__<span class="token punctuation">(</span>slef<span class="token punctuation">,</span>other<span class="token punctuation">)</span>	 <span class="token comment">#判断self对象是否等于other对象</span>
__call__<span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token operator">*</span>args<span class="token punctuation">)</span>	 <span class="token comment">#把实例对象作为函数调用</span>

<span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回数字的绝对值</span>
<span class="token builtin">ascii</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#返回一个表示对象的字符串</span>
<span class="token builtin">bin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#返回0b的二进制字符串</span>
<span class="token builtin">bool</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#返回布尔值</span>
<span class="token builtin">callable</span><span class="token punctuation">(</span>对象<span class="token punctuation">)</span> <span class="token comment">#判断对象是否可调用</span>
<span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回Unicode代码点为整数的字符串，如chr(97) ='a'</span>
<span class="token builtin">ord</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">#将字母转化为数字</span>
<span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 函数将一个字符串编译为字节代码，常和exec和eval连用</span>

<span class="token builtin">getattr</span><span class="token punctuation">(</span>对象，名称，没找到的返回值<span class="token punctuation">)</span>  <span class="token comment">#获取对象的属性</span>
<span class="token builtin">hasattr</span><span class="token punctuation">(</span>对象，名称<span class="token punctuation">)</span>  <span class="token comment">#返回True或False</span>
<span class="token builtin">setattr</span><span class="token punctuation">(</span>对象，名称，值<span class="token punctuation">)</span>  <span class="token comment">#设置对象的属性</span>
<span class="token builtin">delattr</span><span class="token punctuation">(</span>对象，名称<span class="token punctuation">)</span>  <span class="token comment">#删除对象属性</span>

<span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">[</span>对象<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 返回对象属性</span>
<span class="token builtin">divmod</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>  <span class="token comment">#a除以b的商和余数</span>
<span class="token builtin">eval</span><span class="token punctuation">(</span>表达式，<span class="token builtin">globals</span><span class="token operator">=</span><span class="token boolean">None</span>，<span class="token builtin">locals</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span> <span class="token comment">#执行表达式内容，可取全局和局部变量</span>
<span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">,</span><span class="token builtin">globals</span><span class="token operator">=</span><span class="token boolean">None</span>，<span class="token builtin">locals</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>  <span class="token comment">#执行储存在字符串或文件中的Python语句</span>
<span class="token builtin">format</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>操作方式<span class="token punctuation">)</span> <span class="token comment">#可设置字符串的显示方式，居中，小数点位置，转换二进制，十进制等</span>
<span class="token builtin">hash</span><span class="token punctuation">(</span>对象<span class="token punctuation">)</span> <span class="token comment"># 返回一个hash值</span>
<span class="token builtin">help</span><span class="token punctuation">(</span>对象<span class="token punctuation">)</span> <span class="token comment"># 用于获取帮助</span>
<span class="token builtin">hex</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment">#将整数转化为一个‘0x'的十六进制</span>

<span class="token builtin">id</span><span class="token punctuation">(</span>对象<span class="token punctuation">)</span>  <span class="token comment"># 返回代表对象身份的整数，唯一的，可以理解为地址</span>
instance<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">,</span>classinfo<span class="token punctuation">)</span> <span class="token comment"># 判断对象是不是后者的实例化对象</span>
<span class="token builtin">issubclass</span><span class="token punctuation">(</span><span class="token keyword">class</span><span class="token punctuation">,</span>classinfo<span class="token punctuation">)</span> <span class="token comment"># 如果class是classinfo的子类返回一个True</span>
<span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span> <span class="token comment"># 返回一个迭代器对象</span>
<span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>  <span class="token comment"># 返回对象的长度</span>
<span class="token builtin">oct</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment"># 将整数转换为'0o'的八进制</span>
<span class="token builtin">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>  <span class="token comment"># 返回x的y次方</span>
<span class="token keyword">print</span>（<span class="token operator">*</span>objects<span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token operator">=</span>sys<span class="token punctuation">.</span>stdout<span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">False</span>） <span class="token comment">#可以打印到文件中</span>
<span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>stop<span class="token punctuation">,</span>step<span class="token punctuation">)</span>  <span class="token comment">#返回一个不可变的有序类型，顾头不顾尾</span>
<span class="token builtin">repr</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span> <span class="token comment">#查看原生代码</span>

<span class="token builtin">reversed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 反转序列对象</span>
<span class="token builtin">round</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span>保留位数<span class="token punctuation">)</span> <span class="token comment">#四舍五入，可设置位数</span>
<span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#函数是用于调用父类(超类)的一个方法。解决多继承，遵循MRO顺序，和钻石继承</span>
<span class="token builtin">vars</span><span class="token punctuation">(</span>对象<span class="token punctuation">)</span>  <span class="token comment"># 返回对象的属性和属性值</span>
<span class="token builtin">__import__</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token builtin">globals</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token builtin">locals</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> fromlist<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> level<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#动态导入模块</span>
</code></pre></div></li> <li><p>内置函数使用补充：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#max的key用法</span>
<span class="token keyword">import</span> re
reg <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'a*b*c*d*e*f*g*h*i*j*k*l*m*n*o*p*q*r*s*t*u*v*w*x*y*z*'</span><span class="token punctuation">)</span>
<span class="token comment">#返回一个字符串里按字母表排序的最长子字符串</span>
<span class="token keyword">def</span> <span class="token function">longest</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#['abcde', 'ap', 'bcdefgh', '']</span>
    <span class="token keyword">return</span> <span class="token builtin">max</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">)</span>  <span class="token comment"># 此函数名必是返回一个整数的，可自定义函数</span>
<span class="token comment">#加或不加效果相同</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>longest<span class="token punctuation">(</span><span class="token string">'abcdeapbcdefgh'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># bcdefgh</span>
  
    <span class="token comment"># compile用法</span>
<span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">&quot;for i in range(0,10): print(i)&quot;</span>
c <span class="token operator">=</span> <span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token string">'exec'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment">#&lt;code object &lt;module&gt; at 0x10141e0b0, file &quot;&quot;, line 1&gt;</span>
<span class="token keyword">exec</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment">#打印0,1,3.....</span>

	<span class="token comment">#eval的用法</span>
a<span class="token operator">=</span><span class="token number">1</span>
g<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token string">&quot;a+1&quot;</span><span class="token punctuation">,</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#对全局变量g进行操作  返回21</span>

</code></pre></div></li> <li><p><strong>匿名函数</strong>：为了解决那些功能比较简单的需求而设计的一句话</p> <div class="language-python extra-class"><pre class="language-python"><code>	<span class="token comment">#用匿名函数实现取出字典中最大的值</span>
dic<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'k1'</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'k2'</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">'k3'</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dic<span class="token punctuation">[</span><span class="token builtin">max</span><span class="token punctuation">(</span>dic<span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> k<span class="token punctuation">:</span>dic<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#100</span>

<span class="token comment">#现有两个元组(('a'),('b')),(('c'),('d'))，请使用python中匿名函数生成列表[{'a':'c'},{'b':'d'}]</span>
<span class="token comment">#答案一</span>
test <span class="token operator">=</span> <span class="token keyword">lambda</span> t1<span class="token punctuation">,</span>t2 <span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>i<span class="token punctuation">:</span>j<span class="token punctuation">}</span> <span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>t1<span class="token punctuation">,</span>t2<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>test<span class="token punctuation">(</span>t1<span class="token punctuation">,</span>t2<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#答案二</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> t<span class="token punctuation">:</span><span class="token punctuation">{</span>t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>t<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token builtin">zip</span><span class="token punctuation">(</span>t1<span class="token punctuation">,</span>t2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#还可以这样写</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>i<span class="token punctuation">:</span>j<span class="token punctuation">}</span> <span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>t1<span class="token punctuation">,</span>t2<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">#以下代码的输出是什么？请给出答案并解释。</span>
<span class="token keyword">def</span> <span class="token function">multipliers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>i<span class="token operator">*</span>x <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>m<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">for</span> m <span class="token keyword">in</span> multipliers<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#请修改multipliers的定义来产生期望的结果</span>
<span class="token comment">#第一问 ：[6,6,6,6]</span>
<span class="token comment">#第二问 ：</span>
<span class="token keyword">def</span> <span class="token function">multipliers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
     <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>i<span class="token operator">*</span>x <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 不需要yield因为，for必须在推导式内也就是说必须有括号</span>
     	<span class="token comment"># for i in range(4):</span>
    	 <span class="token comment">#     yield lambda x:i*x</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>m<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">for</span> m <span class="token keyword">in</span> multipliers<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#[2,4,6]</span>

<span class="token comment">#内置函数的使用</span>
<span class="token number">1</span>、<span class="token comment"># 列出奇数索引的元素</span>
lis <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">151</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">117</span><span class="token punctuation">,</span><span class="token number">133</span><span class="token punctuation">,</span><span class="token number">144</span><span class="token punctuation">,</span><span class="token number">177</span><span class="token punctuation">]</span>  
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">,</span><span class="token punctuation">(</span>lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>lis<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token number">2</span>、<span class="token comment">#reduce 的用法 打印出1累加到100的和，传入开头两个参数，然后运算结果给第一个，第二个参数继续拿，以此类推(累加或类乘器)</span>
<span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span>  <span class="token comment">#需要导入模块</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">:</span>x<span class="token operator">+</span>y<span class="token punctuation">,</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">#生成器题目：</span>
<span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> r_i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">yield</span> r_i

g <span class="token operator">=</span> test<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实现一个生成器 </span>
<span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">:</span>   <span class="token comment"># 这里只执行了两次for循环，所以将10带入两次。最开始g=（0，1，2，3），执行两次add后，就是两次10于g累加</span>
    g <span class="token operator">=</span> <span class="token punctuation">(</span>add<span class="token punctuation">(</span>n<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> g<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">#[20, 21, 22, 23]</span>


<span class="token comment">#重点：filter注重的是lambda ：条件是否正确；map是对每个元素操作</span>
<span class="token comment">#有列表 a = [&quot;7net&quot;,&quot;www.7net&quot;,&quot;www.septnet&quot;,&quot;7net&quot;,&quot;www&quot;]现需要从中将包 含字符7net的元素给删掉，请以最少代码量实现</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;7net&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;www.7net&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;www.septnet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;7net&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;www&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># print(list(filter(lambda x:'7net' not in x,a)))  #这个过滤含有'7net'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'7net'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token comment">#实例：递归查看文件下的所有文件的总共文件大小</span>

<span class="token keyword">import</span> os
<span class="token keyword">def</span> <span class="token function">get_size</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    size <span class="token operator">=</span> <span class="token number">0</span>   <span class="token comment"># 定义一个变量用来存储文件的大小</span>
    l <span class="token operator">=</span> <span class="token punctuation">[</span>path<span class="token punctuation">]</span>   <span class="token comment"># 将庐江添加到列表中</span>
    <span class="token keyword">while</span> l<span class="token punctuation">:</span>
        path <span class="token operator">=</span> l<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 删除列表中的最后一个元素，并接受返回值</span>
        lst <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span>    <span class="token comment"># 查看接受逇返回值的目录下的所有文件</span>
        <span class="token keyword">for</span> name <span class="token keyword">in</span> lst<span class="token punctuation">:</span>        <span class="token comment"># 遍历这个目录下的素有文件</span>
            son_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>path<span class="token punctuation">,</span>name<span class="token punctuation">)</span>  <span class="token comment"># 路径拼接，将路径和文件名进行拼接</span>
            <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>son_path<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># 如果这个文件不是目录，</span>
                size <span class="token operator">+=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>getsize<span class="token punctuation">(</span>son_path<span class="token punctuation">)</span> <span class="token comment"># 计算这个文件的大小</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                l<span class="token punctuation">.</span>append<span class="token punctuation">(</span>son_path<span class="token punctuation">)</span>            <span class="token comment"># 如果是目录，就将这个路径添加到列表中，用来进入这个目录中</span>
    <span class="token keyword">return</span> size                <span class="token comment"># 返回这个目录中的文件的大小</span>
    
size <span class="token operator">=</span> get_size<span class="token punctuation">(</span><span class="token string">r'D:\s14\算法'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
</code></pre></div></li></ol></li></ul> <p>补充：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># 注意fliter，map，返回的是一个迭代器，返回一个地址集的迭代器只能取一次，因为可以使用__next__()方法，</span>
lst <span class="token operator">=</span> <span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> n<span class="token punctuation">:</span>n<span class="token operator">%</span><span class="token number">3</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># print(lst.__next__())</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#0</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/python/origin/元类.html" class="prev">
        元类的深度理解
      </a></span> <span class="next"><a href="/python/origin/数据类型.html">
        数据类型
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.51f2f156.js" defer></script><script src="/assets/js/2.8911ec45.js" defer></script><script src="/assets/js/90.805edabe.js" defer></script>
  </body>
</html>
